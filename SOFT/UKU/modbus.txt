; generated by ARM C/C++ Compiler, 4.1 [Build 644]
; commandline ArmCC [--list --debug -c --asm --interleave -o.\EXE\modbus.o --asm_dir=.\ --list_dir=.\ --depend=.\EXE\modbus.d --feedback=.\EXE\UKU_VD_WG12232A.fed --cpu=Cortex-M3 --apcs=interwork -O1 -IC:\Keil\ARM\CMSIS\Include -IC:\Keil\ARM\INC\NXP\LPC17xx -D__MICROLIB -DUKU_VD -DUKU_220_IPS_TERMOKOMPENSAT -DUKU2071x -DWG12232A --omf_browse=.\EXE\modbus.crf modbus.c]
                          THUMB

                          AREA ||.text||, CODE, READONLY, ALIGN=2

                  CRC16_2 PROC
;;;233    //-----------------------------------------------
;;;234    unsigned short CRC16_2(char* buf, short len)
000000  b570              PUSH     {r4-r6,lr}
;;;235    {
000002  4605              MOV      r5,r0
;;;236    unsigned short crc = 0xFFFF;
000004  f64f70ff          MOV      r0,#0xffff
;;;237    short pos;
;;;238    short i;
;;;239    
;;;240    for (pos = 0; pos < len; pos++)
000008  f04f0300          MOV      r3,#0
;;;241      	{
;;;242        	crc ^= (unsigned short)buf[pos];          // XOR byte into least sig. byte of crc
;;;243    
;;;244        	for ( i = 8; i != 0; i--) 
;;;245    		{    // Loop over each bit
;;;246          	if ((crc & 0x0001) != 0) 
;;;247    			{      // If the LSB is set
;;;248            		crc >>= 1;                    // Shift right and XOR 0xA001
;;;249            		crc ^= 0xA001;
00000c  f24a0401          MOV      r4,#0xa001
000010  e015              B        |L1.62|
                  |L1.18|
000012  5cea              LDRB     r2,[r5,r3]            ;242
000014  ea820000          EOR      r0,r2,r0              ;242
000018  f04f0208          MOV      r2,#8                 ;244
                  |L1.28|
00001c  07c6              LSLS     r6,r0,#31             ;246
00001e  d004              BEQ      |L1.42|
000020  ea4f0050          LSR      r0,r0,#1              ;248
000024  ea800004          EOR      r0,r0,r4
000028  e001              B        |L1.46|
                  |L1.42|
;;;250          		}
;;;251          	else  crc >>= 1;                    // Just shift right
00002a  ea4f0050          LSR      r0,r0,#1
                  |L1.46|
00002e  f1a20201          SUB      r2,r2,#1              ;244
000032  b212              SXTH     r2,r2                 ;244
000034  2a00              CMP      r2,#0                 ;244
000036  d1f1              BNE      |L1.28|
000038  f1030301          ADD      r3,r3,#1              ;240
00003c  b21b              SXTH     r3,r3                 ;240
                  |L1.62|
00003e  428b              CMP      r3,r1                 ;240
000040  dbe7              BLT      |L1.18|
;;;252        		}
;;;253      	}
;;;254      // Note, this number has low and high bytes swapped, so use it accordingly (or swap bytes)
;;;255    return crc;
;;;256    }
000042  bd70              POP      {r4-r6,pc}
;;;257    
                          ENDP

                  modbus_hold_registers_transmit PROC
;;;1026   //-----------------------------------------------
;;;1027   void modbus_hold_registers_transmit(unsigned char adr,unsigned char func,unsigned short reg_adr,unsigned short reg_quantity, char prot)
000044  b5f0              PUSH     {r4-r7,lr}
;;;1028   {
000046  b0a7              SUB      sp,sp,#0x9c
000048  461d              MOV      r5,r3
00004a  9b2c              LDR      r3,[sp,#0xb0]
00004c  4604              MOV      r4,r0
00004e  460f              MOV      r7,r1
;;;1029   signed char modbus_registers[150];
;;;1030   //char modbus_tx_buff[150];
;;;1031   unsigned short crc_temp;
;;;1032   char i;
;;;1033   
;;;1034   modbus_registers[20]=(char)((LPC_RTC->YEAR)>>8);			//Рег11  Время, год
000050  48ff              LDR      r0,|L1.1104|
000052  8b81              LDRH     r1,[r0,#0x1c]
000054  ea4f2111          LSR      r1,r1,#8
000058  f88d1018          STRB     r1,[sp,#0x18]
;;;1035   modbus_registers[21]=(char)((LPC_RTC->YEAR));
00005c  8b81              LDRH     r1,[r0,#0x1c]
00005e  f88d1019          STRB     r1,[sp,#0x19]
;;;1036   modbus_registers[22]=(char)((LPC_RTC->MONTH)>>8);		//Рег12  Время, месяц
000062  7e01              LDRB     r1,[r0,#0x18]
000064  f04f0100          MOV      r1,#0
000068  f88d101a          STRB     r1,[sp,#0x1a]
;;;1037   modbus_registers[23]=(char)((LPC_RTC->MONTH));
00006c  7e06              LDRB     r6,[r0,#0x18]
00006e  f88d601b          STRB     r6,[sp,#0x1b]
;;;1038   modbus_registers[24]=(char)((LPC_RTC->DOM)>>8);			//Рег13  Время, день месяца
000072  7b06              LDRB     r6,[r0,#0xc]
000074  f88d101c          STRB     r1,[sp,#0x1c]
;;;1039   modbus_registers[25]=(char)((LPC_RTC->DOM));
000078  7b06              LDRB     r6,[r0,#0xc]
00007a  f88d601d          STRB     r6,[sp,#0x1d]
;;;1040   modbus_registers[26]=(char)((LPC_RTC->HOUR)>>8);			//Рег14  Время, час
00007e  7a06              LDRB     r6,[r0,#8]
000080  f88d101e          STRB     r1,[sp,#0x1e]
;;;1041   modbus_registers[27]=(char)((LPC_RTC->HOUR));
000084  7a06              LDRB     r6,[r0,#8]
000086  f88d601f          STRB     r6,[sp,#0x1f]
;;;1042   modbus_registers[28]=(char)((LPC_RTC->MIN)>>8);			//Рег15  Время, минуты
00008a  7906              LDRB     r6,[r0,#4]
00008c  f88d1020          STRB     r1,[sp,#0x20]
;;;1043   modbus_registers[29]=(char)((LPC_RTC->MIN));
000090  7906              LDRB     r6,[r0,#4]
000092  f88d6021          STRB     r6,[sp,#0x21]
;;;1044   modbus_registers[30]=(char)((LPC_RTC->SEC)>>8);			//Рег16  Время, секунды
000096  7806              LDRB     r6,[r0,#0]
000098  f88d1022          STRB     r1,[sp,#0x22]
;;;1045   modbus_registers[31]=(char)((LPC_RTC->SEC));
00009c  7800              LDRB     r0,[r0,#0]
00009e  f88d0023          STRB     r0,[sp,#0x23]
;;;1046   modbus_registers[38]=(char)(NUMIST>>8);				//Рег20  Количество выпрямителей в структуре
0000a2  48ec              LDR      r0,|L1.1108|
0000a4  8800              LDRH     r0,[r0,#0]  ; NUMIST
0000a6  ea4f2120          ASR      r1,r0,#8
0000aa  f88d102a          STRB     r1,[sp,#0x2a]
;;;1047   modbus_registers[39]=(char)(NUMIST);
0000ae  f88d002b          STRB     r0,[sp,#0x2b]
;;;1048   //modbus_registers[40]=(char)(PAR>>8);					//Рег21  Параллельная работа выпрямителей вкл./выкл.
;;;1049   //modbus_registers[41]=(char)(PAR);
;;;1050   modbus_registers[42]=(char)(ZV_ON>>8);					//Рег22  Звуковая аварийная сигнализация вкл./выкл.
0000b2  48e9              LDR      r0,|L1.1112|
0000b4  8800              LDRH     r0,[r0,#0]  ; ZV_ON
0000b6  ea4f2120          ASR      r1,r0,#8
0000ba  f88d102e          STRB     r1,[sp,#0x2e]
;;;1051   modbus_registers[43]=(char)(ZV_ON);
0000be  f88d002f          STRB     r0,[sp,#0x2f]
;;;1052   modbus_registers[46]=(char)(UBM_AV>>8);				//Рег24  Аварийный уровень отклонения напряжения средней точки батареи, %
0000c2  48e6              LDR      r0,|L1.1116|
0000c4  8800              LDRH     r0,[r0,#0]  ; UBM_AV
0000c6  ea4f2120          ASR      r1,r0,#8
0000ca  f88d1032          STRB     r1,[sp,#0x32]
;;;1053   modbus_registers[47]=(char)(UBM_AV);
0000ce  f88d0033          STRB     r0,[sp,#0x33]
;;;1054   modbus_registers[58]=(char)(TBAT>>8);					//Рег30  Период проверки цепи батареи, минут.
0000d2  48e3              LDR      r0,|L1.1120|
0000d4  8800              LDRH     r0,[r0,#0]  ; TBAT
0000d6  ea4f2120          ASR      r1,r0,#8
0000da  f88d103e          STRB     r1,[sp,#0x3e]
;;;1055   modbus_registers[59]=(char)(TBAT);
0000de  f88d003f          STRB     r0,[sp,#0x3f]
;;;1056   modbus_registers[60]=(char)(UMAX>>8);					//Рег31  Максимальное (аварийное) напряжение выпрямителей, 0.1В
0000e2  48e0              LDR      r0,|L1.1124|
0000e4  8800              LDRH     r0,[r0,#0]  ; UMAX
0000e6  ea4f2120          ASR      r1,r0,#8
0000ea  f88d1040          STRB     r1,[sp,#0x40]
;;;1057   modbus_registers[61]=(char)(UMAX);
0000ee  f88d0041          STRB     r0,[sp,#0x41]
;;;1058   //modbus_registers[62]=(char)((UB20-DU)>>8);				//Рег32  Минимальное (аварийное) напряжение выпрямителей, 0.1В
;;;1059   //modbus_registers[63]=(char)((UB20-DU));
;;;1060   //modbus_registers[64]=(char)(UB0>>8);					//Рег33  Напряжение содержания батареи при 0гЦ, 0.1В
;;;1061   //modbus_registers[65]=(char)(UB0);
;;;1062   //modbus_registers[66]=(char)(UB20>>8);					//Рег34  Напряжение содержания батареи при 20гЦ, 0.1В
;;;1063   //modbus_registers[67]=(char)(UB20);
;;;1064   modbus_registers[68]=(char)(USIGN>>8);					//Рег35  Минимальное (сигнальное) напряжение батареи, 1В
0000f2  48dd              LDR      r0,|L1.1128|
0000f4  8800              LDRH     r0,[r0,#0]  ; USIGN
0000f6  ea4f2120          ASR      r1,r0,#8
0000fa  f88d1048          STRB     r1,[sp,#0x48]
;;;1065   modbus_registers[69]=(char)(USIGN);
0000fe  f88d0049          STRB     r0,[sp,#0x49]
;;;1066   modbus_registers[70]=(char)(UMN>>8);					//Рег36  Минимальное (аварийное) напряжение питающей сети, 1В
000102  48da              LDR      r0,|L1.1132|
000104  8800              LDRH     r0,[r0,#0]  ; UMN
000106  ea4f2120          ASR      r1,r0,#8
00010a  f88d104a          STRB     r1,[sp,#0x4a]
;;;1067   modbus_registers[71]=(char)(UMN);
00010e  f88d004b          STRB     r0,[sp,#0x4b]
;;;1068   modbus_registers[72]=(char)(U0B>>8);					//Рег37  Рабочее напряжение при невведенных батареях, 0.1В
000112  48d7              LDR      r0,|L1.1136|
000114  8800              LDRH     r0,[r0,#0]  ; U0B
000116  ea4f2120          ASR      r1,r0,#8
00011a  f88d104c          STRB     r1,[sp,#0x4c]
;;;1069   modbus_registers[73]=(char)(U0B);
00011e  f88d004d          STRB     r0,[sp,#0x4d]
;;;1070   modbus_registers[74]=(char)(IKB>>8);					//Рег38  Ток контроля наличия батареи, 0.1а
000122  48d4              LDR      r0,|L1.1140|
000124  8800              LDRH     r0,[r0,#0]  ; IKB
000126  ea4f2120          ASR      r1,r0,#8
00012a  f88d104e          STRB     r1,[sp,#0x4e]
;;;1071   modbus_registers[75]=(char)(IKB);
00012e  f88d004f          STRB     r0,[sp,#0x4f]
;;;1072   modbus_registers[76]=(char)(IZMAX>>8);					//Рег39  Ток заряда батареи максимальный, 0.1А
000132  48d1              LDR      r0,|L1.1144|
000134  8800              LDRH     r0,[r0,#0]  ; IZMAX
000136  ea4f2120          ASR      r1,r0,#8
00013a  f88d1050          STRB     r1,[sp,#0x50]
;;;1073   modbus_registers[77]=(char)(IZMAX);
00013e  f88d0051          STRB     r0,[sp,#0x51]
;;;1074   modbus_registers[78]=(char)(IMAX>>8);					//Рег40  Ток переключения на большее кол-во выпрямителей, 0.1А
000142  48ce              LDR      r0,|L1.1148|
000144  8800              LDRH     r0,[r0,#0]  ; IMAX
000146  ea4f2120          ASR      r1,r0,#8
00014a  f88d1052          STRB     r1,[sp,#0x52]
;;;1075   modbus_registers[79]=(char)(IMAX);
00014e  f88d0053          STRB     r0,[sp,#0x53]
;;;1076   modbus_registers[80]=(char)(IMIN>>8);					//Рег41  Ток переключения на меньшее кол-во выпрямителей, 0.1А
000152  48cb              LDR      r0,|L1.1152|
000154  8800              LDRH     r0,[r0,#0]  ; IMIN
000156  ea4f2120          ASR      r1,r0,#8
00015a  f88d1054          STRB     r1,[sp,#0x54]
;;;1077   modbus_registers[81]=(char)(IMIN);
00015e  f88d0055          STRB     r0,[sp,#0x55]
;;;1078   //modbus_registers[82]=(char)(UVZ>>8);					//Рег42  Напряжение выравнивающего заряда, 0.1В
;;;1079   //modbus_registers[83]=(char)(UVZ);
;;;1080   modbus_registers[84]=(char)(TZAS>>8);					//Рег43  Время задержки включения выпрямителей, сек
000162  48c8              LDR      r0,|L1.1156|
000164  8800              LDRH     r0,[r0,#0]  ; TZAS
000166  ea4f2120          ASR      r1,r0,#8
00016a  f88d1058          STRB     r1,[sp,#0x58]
;;;1081   modbus_registers[85]=(char)(TZAS);
00016e  f88d0059          STRB     r0,[sp,#0x59]
;;;1082   modbus_registers[86]=(char)(TMAX>>8);					//Рег44  Температура выпрямителей аварийная, 1гЦ
000172  48c5              LDR      r0,|L1.1160|
000174  8800              LDRH     r0,[r0,#0]  ; TMAX
000176  ea4f2120          ASR      r1,r0,#8
00017a  f88d105a          STRB     r1,[sp,#0x5a]
;;;1083   modbus_registers[87]=(char)(TMAX);
00017e  f88d005b          STRB     r0,[sp,#0x5b]
;;;1084   modbus_registers[88]=(char)(TSIGN>>8);					//Рег45  Температура выпрямителей сигнальная, 1гЦ
000182  48c2              LDR      r0,|L1.1164|
000184  8800              LDRH     r0,[r0,#0]  ; TSIGN
000186  ea4f2120          ASR      r1,r0,#8
00018a  f88d105c          STRB     r1,[sp,#0x5c]
;;;1085   modbus_registers[89]=(char)(TSIGN);
00018e  f88d005d          STRB     r0,[sp,#0x5d]
;;;1086   modbus_registers[90]=(char)(TBATMAX>>8);				//Рег46  Температура батареи аварийная, 1гЦ
000192  48bf              LDR      r0,|L1.1168|
000194  8800              LDRH     r0,[r0,#0]  ; TBATMAX
000196  ea4f2120          ASR      r1,r0,#8
00019a  f88d105e          STRB     r1,[sp,#0x5e]
;;;1087   modbus_registers[91]=(char)(TBATMAX);
00019e  f88d005f          STRB     r0,[sp,#0x5f]
;;;1088   modbus_registers[92]=(char)(TBATSIGN>>8);				//Рег47  Температура батареи сигнальная, 1гЦ
0001a2  48bc              LDR      r0,|L1.1172|
0001a4  8800              LDRH     r0,[r0,#0]  ; TBATSIGN
0001a6  ea4f2120          ASR      r1,r0,#8
0001aa  f88d1060          STRB     r1,[sp,#0x60]
;;;1089   modbus_registers[93]=(char)(TBATSIGN);
0001ae  f88d0061          STRB     r0,[sp,#0x61]
;;;1090   modbus_registers[94]=(char)(speedChrgCurr>>8);					//Рег48  Ток ускоренного заряда, 0.1А
0001b2  48b9              LDR      r0,|L1.1176|
0001b4  8800              LDRH     r0,[r0,#0]  ; speedChrgCurr
0001b6  ea4f2120          ASR      r1,r0,#8
0001ba  f88d1062          STRB     r1,[sp,#0x62]
;;;1091   modbus_registers[95]=(char)(speedChrgCurr);
0001be  f88d0063          STRB     r0,[sp,#0x63]
;;;1092   modbus_registers[96]=(char)(speedChrgVolt>>8);				//Рег49	 Напряжение ускоренного заряда, 0.1В 
0001c2  48b6              LDR      r0,|L1.1180|
0001c4  8800              LDRH     r0,[r0,#0]  ; speedChrgVolt
0001c6  ea4f2120          ASR      r1,r0,#8
0001ca  f88d1064          STRB     r1,[sp,#0x64]
;;;1093   modbus_registers[97]=(char)(speedChrgVolt);
0001ce  f88d0065          STRB     r0,[sp,#0x65]
;;;1094   modbus_registers[98]=(char)(speedChrgTimeInHour>>8);				//Рег50	 Время ускоренного заряда, 1ч
0001d2  48b3              LDR      r0,|L1.1184|
0001d4  8800              LDRH     r0,[r0,#0]  ; speedChrgTimeInHour
0001d6  ea4f2120          ASR      r1,r0,#8
0001da  f88d1066          STRB     r1,[sp,#0x66]
;;;1095   modbus_registers[99]=(char)(speedChrgTimeInHour);
0001de  f88d0067          STRB     r0,[sp,#0x67]
;;;1096   modbus_registers[100]=(char)(U_OUT_KONTR_MAX>>8);					//Рег51	 Контроль выходного напряжения, Umax, 0.1В
0001e2  48b0              LDR      r0,|L1.1188|
0001e4  8800              LDRH     r0,[r0,#0]  ; U_OUT_KONTR_MAX
0001e6  ea4f2120          ASR      r1,r0,#8
0001ea  f88d1068          STRB     r1,[sp,#0x68]
;;;1097   modbus_registers[101]=(char)(U_OUT_KONTR_MAX);
0001ee  f88d0069          STRB     r0,[sp,#0x69]
;;;1098   modbus_registers[102]=(char)(U_OUT_KONTR_MIN>>8);					//Рег52	 Контроль выходного напряжения, Umin, 0.1В
0001f2  48ad              LDR      r0,|L1.1192|
0001f4  8800              LDRH     r0,[r0,#0]  ; U_OUT_KONTR_MIN
0001f6  ea4f2120          ASR      r1,r0,#8
0001fa  f88d106a          STRB     r1,[sp,#0x6a]
;;;1099   modbus_registers[103]=(char)(U_OUT_KONTR_MIN);
0001fe  f88d006b          STRB     r0,[sp,#0x6b]
;;;1100   modbus_registers[104]=(char)(U_OUT_KONTR_DELAY>>8);				//Рег53	 Контроль выходного напряжения, Tзадержки, 1сек.
000202  48aa              LDR      r0,|L1.1196|
000204  8800              LDRH     r0,[r0,#0]  ; U_OUT_KONTR_DELAY
000206  ea4f2120          ASR      r1,r0,#8
00020a  f88d106c          STRB     r1,[sp,#0x6c]
;;;1101   modbus_registers[105]=(char)(U_OUT_KONTR_DELAY);
00020e  f88d006d          STRB     r0,[sp,#0x6d]
;;;1102   
;;;1103   
;;;1104   
;;;1105   
;;;1106   if(prot==MODBUS_RTU_PROT)
;;;1107   	{
;;;1108   	modbus_tx_buff[0]=adr;
;;;1109   	modbus_tx_buff[1]=func;
;;;1110   	modbus_tx_buff[2]=(char)(reg_quantity*2);
;;;1111   	mem_copy((char*)&modbus_tx_buff[3],(char*)&modbus_registers[(reg_adr-1)*2],reg_quantity*2);
000212  f1a20201          SUB      r2,r2,#1
000216  a801              ADD      r0,sp,#4              ;1029
000218  eb000142          ADD      r1,r0,r2,LSL #1
00021c  b12b              CBZ      r3,|L1.554|
;;;1112   	
;;;1113   	crc_temp=CRC16_2(modbus_tx_buff,(reg_quantity*2)+3);
;;;1114   
;;;1115   	modbus_tx_buff[3+(reg_quantity*2)]=(char)crc_temp;
;;;1116   	modbus_tx_buff[4+(reg_quantity*2)]=crc_temp>>8;
;;;1117   
;;;1118   	for (i=0;i<(5+(reg_quantity*2));i++)
;;;1119   		{
;;;1120   		putchar0(modbus_tx_buff[i]);
;;;1121   		}
;;;1122   
;;;1123   	for (i=0;i<(5+(reg_quantity*2));i++)
;;;1124   		{
;;;1125   		putchar_sc16is700(modbus_tx_buff[i]);
;;;1126   		}
;;;1127   	}
;;;1128   else if(prot==MODBUS_TCP_PROT)
00021e  2b01              CMP      r3,#1
000220  d101              BNE      |L1.550|
;;;1129   	{
;;;1130   	modbus_tcp_out_ptr=(char*)&modbus_registers[(reg_adr-1)*2];
000222  48a3              LDR      r0,|L1.1200|
000224  6001              STR      r1,[r0,#0]  ; modbus_tcp_out_ptr
                  |L1.550|
;;;1131   	}
;;;1132   }
000226  b027              ADD      sp,sp,#0x9c
000228  bdf0              POP      {r4-r7,pc}
                  |L1.554|
00022a  4ea2              LDR      r6,|L1.1204|
00022c  7034              STRB     r4,[r6,#0]            ;1108
00022e  7077              STRB     r7,[r6,#1]            ;1109
000230  ea4f0245          LSL      r2,r5,#1              ;1110
000234  70b2              STRB     r2,[r6,#2]            ;1110
000236  f1060003          ADD      r0,r6,#3              ;1111
00023a  f7fffffe          BL       mem_copy
00023e  2003              MOVS     r0,#3                 ;1113
000240  eb000045          ADD      r0,r0,r5,LSL #1       ;1113
000244  b201              SXTH     r1,r0                 ;1113
000246  4630              MOV      r0,r6                 ;1113
000248  f7fffffe          BL       CRC16_2
00024c  eb060145          ADD      r1,r6,r5,LSL #1       ;1115
000250  70c8              STRB     r0,[r1,#3]            ;1115
000252  ea4f2010          LSR      r0,r0,#8              ;1116
000256  7108              STRB     r0,[r1,#4]            ;1116
000258  f04f0400          MOV      r4,#0                 ;1118
00025c  f04f0005          MOV      r0,#5                 ;1118
000260  eb000545          ADD      r5,r0,r5,LSL #1       ;1118
000264  e005              B        |L1.626|
                  |L1.614|
000266  5d30              LDRB     r0,[r6,r4]            ;1120
000268  f7fffffe          BL       putchar0
00026c  f1040401          ADD      r4,r4,#1              ;1118
000270  b2e4              UXTB     r4,r4                 ;1118
                  |L1.626|
000272  42a5              CMP      r5,r4                 ;1118
000274  d8f7              BHI      |L1.614|
000276  f04f0400          MOV      r4,#0                 ;1123
00027a  e005              B        |L1.648|
                  |L1.636|
00027c  5d30              LDRB     r0,[r6,r4]            ;1125
00027e  f7fffffe          BL       putchar_sc16is700
000282  f1040401          ADD      r4,r4,#1              ;1123
000286  b2e4              UXTB     r4,r4                 ;1123
                  |L1.648|
000288  42a5              CMP      r5,r4                 ;1123
00028a  d8f7              BHI      |L1.636|
00028c  e7cb              B        |L1.550|
;;;1133   
                          ENDP

                  modbus_input_registers_transmit PROC
;;;1134   //-----------------------------------------------
;;;1135   void modbus_input_registers_transmit(unsigned char adr,unsigned char func,unsigned short reg_adr,unsigned short reg_quantity, char prot)
00028e  b5f0              PUSH     {r4-r7,lr}
;;;1136   {
000290  b0fd              SUB      sp,sp,#0x1f4
000292  461d              MOV      r5,r3
000294  9b82              LDR      r3,[sp,#0x208]
000296  4607              MOV      r7,r0
;;;1137   signed char modbus_registers[500];
;;;1138   //char modbus_tx_buff[200];
;;;1139   unsigned short crc_temp;
;;;1140   char i;
;;;1141   short tempS;
;;;1142   
;;;1143   //tempS=(MODBUS_INPUT_REGS[0]);
;;;1144   modbus_registers[0]=(signed char)(bps[0]._Uii>>8);			//Рег1	Выходное напряжение выпрямителя №1, 0.1В
000298  4887              LDR      r0,|L1.1208|
00029a  69c4              LDR      r4,[r0,#0x1c]  ; bps
00029c  ea4f2624          ASR      r6,r4,#8
0002a0  f88d6000          STRB     r6,[sp,#0]
;;;1145   modbus_registers[1]=(signed char)(bps[0]._Uii);
0002a4  f88d4001          STRB     r4,[sp,#1]
;;;1146   modbus_registers[2]=(signed char)(bps[0]._Ii>>8);			//Рег2	Выходной ток выпрямителя №1, 0.1А
0002a8  6a44              LDR      r4,[r0,#0x24]  ; bps
0002aa  ea4f2624          ASR      r6,r4,#8
0002ae  f88d6002          STRB     r6,[sp,#2]
;;;1147   modbus_registers[3]=(signed char)(bps[0]._Ii);
0002b2  f88d4003          STRB     r4,[sp,#3]
;;;1148   modbus_registers[4]=(signed char)(bps[0]._Ti>>8);			//Рег3	Температура радиатора выпрямителя №1, 1гЦ
0002b6  6a84              LDR      r4,[r0,#0x28]  ; bps
0002b8  ea4f2624          ASR      r6,r4,#8
0002bc  f88d6004          STRB     r6,[sp,#4]
;;;1149   modbus_registers[5]=(signed char)(bps[0]._Ti);
0002c0  f88d4005          STRB     r4,[sp,#5]
;;;1150   modbus_registers[6]=(signed char)(bps[0]._av>>8);			//Рег4	Байт флагов выпрямителя №1, 0x01 - перегрев, 0x02 завышено Uвых, 0x04 занижено Uвых, 0x08 - отсутствует связь с выпрямителем
0002c4  f04f0400          MOV      r4,#0
0002c8  f88d4006          STRB     r4,[sp,#6]
;;;1151   modbus_registers[7]=(signed char)(bps[0]._av);
0002cc  7846              LDRB     r6,[r0,#1]  ; bps
0002ce  f88d6007          STRB     r6,[sp,#7]
;;;1152   modbus_registers[8]=(signed char)(bps[1]._Uii>>8);			//Рег5	Выходное напряжение выпрямителя №2, 0.1В
0002d2  f8d06084          LDR      r6,[r0,#0x84]  ; bps
0002d6  ea4f2c26          ASR      r12,r6,#8
0002da  f88dc008          STRB     r12,[sp,#8]
;;;1153   modbus_registers[9]=(signed char)(bps[1]._Uii);
0002de  f88d6009          STRB     r6,[sp,#9]
;;;1154   modbus_registers[10]=(signed char)(bps[1]._Ii>>8);			//Рег6	Выходной ток выпрямителя №2, 0.1А
0002e2  f8d0608c          LDR      r6,[r0,#0x8c]  ; bps
0002e6  ea4f2c26          ASR      r12,r6,#8
0002ea  f88dc00a          STRB     r12,[sp,#0xa]
;;;1155   modbus_registers[11]=(signed char)(bps[1]._Ii);
0002ee  f88d600b          STRB     r6,[sp,#0xb]
;;;1156   modbus_registers[12]=(signed char)(bps[1]._Ti>>8);			//Рег7	Температура радиатора выпрямителя №2, 1гЦ
0002f2  f8d06090          LDR      r6,[r0,#0x90]  ; bps
0002f6  ea4f2c26          ASR      r12,r6,#8
0002fa  f88dc00c          STRB     r12,[sp,#0xc]
;;;1157   modbus_registers[13]=(signed char)(bps[1]._Ti);
0002fe  f88d600d          STRB     r6,[sp,#0xd]
;;;1158   modbus_registers[14]=(signed char)(bps[1]._av>>8);			//Рег8	Байт флагов выпрямителя №2, 0x01 - перегрев, 0x02 завышено Uвых, 0x04 занижено Uвых, 0x08 - отсутствует связь с выпрямителем
000302  f88d400e          STRB     r4,[sp,#0xe]
;;;1159   modbus_registers[15]=(signed char)(bps[1]._av);
000306  f8906069          LDRB     r6,[r0,#0x69]  ; bps
00030a  f88d600f          STRB     r6,[sp,#0xf]
;;;1160   modbus_registers[16]=(signed char)(bps[2]._Uii>>8);			//Рег9	Выходное напряжение выпрямителя №3, 0.1В
00030e  f8d060ec          LDR      r6,[r0,#0xec]  ; bps
000312  ea4f2c26          ASR      r12,r6,#8
000316  f88dc010          STRB     r12,[sp,#0x10]
;;;1161   modbus_registers[17]=(signed char)(bps[2]._Uii);
00031a  f88d6011          STRB     r6,[sp,#0x11]
;;;1162   modbus_registers[18]=(signed char)(bps[2]._Ii>>8);			//Рег10	Выходной ток выпрямителя №3, 0.1А
00031e  f8d060f4          LDR      r6,[r0,#0xf4]  ; bps
000322  ea4f2c26          ASR      r12,r6,#8
000326  f88dc012          STRB     r12,[sp,#0x12]
;;;1163   modbus_registers[19]=(signed char)(bps[2]._Ii);
00032a  f88d6013          STRB     r6,[sp,#0x13]
;;;1164   modbus_registers[20]=(signed char)(bps[2]._Ti>>8);			//Рег11	Температура радиатора выпрямителя №3, 1гЦ
00032e  f8d060f8          LDR      r6,[r0,#0xf8]  ; bps
000332  ea4f2c26          ASR      r12,r6,#8
000336  f88dc014          STRB     r12,[sp,#0x14]
;;;1165   modbus_registers[21]=(signed char)(bps[2]._Ti);
00033a  f88d6015          STRB     r6,[sp,#0x15]
;;;1166   modbus_registers[22]=(signed char)(bps[2]._av>>8);			//Рег12	Байт флагов выпрямителя №3, 0x01 - перегрев, 0x02 завышено Uвых, 0x04 занижено Uвых, 0x08 - отсутствует связь с выпрямителем
00033e  f88d4016          STRB     r4,[sp,#0x16]
;;;1167   modbus_registers[23]=(signed char)(bps[2]._av);
000342  f89060d1          LDRB     r6,[r0,#0xd1]  ; bps
000346  f88d6017          STRB     r6,[sp,#0x17]
;;;1168   modbus_registers[24]=(signed char)(bps[3]._Uii>>8);			//Рег13	Выходное напряжение выпрямителя №4, 0.1В
00034a  f8d06154          LDR      r6,[r0,#0x154]  ; bps
00034e  ea4f2c26          ASR      r12,r6,#8
000352  f88dc018          STRB     r12,[sp,#0x18]
;;;1169   modbus_registers[25]=(signed char)(bps[3]._Uii);
000356  f88d6019          STRB     r6,[sp,#0x19]
;;;1170   modbus_registers[26]=(signed char)(bps[3]._Ii>>8);			//Рег14	Выходной ток выпрямителя №4, 0.1А
00035a  f8d0615c          LDR      r6,[r0,#0x15c]  ; bps
00035e  ea4f2c26          ASR      r12,r6,#8
000362  f88dc01a          STRB     r12,[sp,#0x1a]
;;;1171   modbus_registers[27]=(signed char)(bps[3]._Ii);
000366  f88d601b          STRB     r6,[sp,#0x1b]
;;;1172   modbus_registers[28]=(signed char)(bps[3]._Ti>>8);			//Рег15	Температура радиатора выпрямителя №4, 1гЦ
00036a  f8d06160          LDR      r6,[r0,#0x160]  ; bps
00036e  ea4f2c26          ASR      r12,r6,#8
000372  f88dc01c          STRB     r12,[sp,#0x1c]
;;;1173   modbus_registers[29]=(signed char)(bps[3]._Ti);
000376  f88d601d          STRB     r6,[sp,#0x1d]
;;;1174   modbus_registers[30]=(signed char)(bps[3]._av>>8);			//Рег16	Байт флагов выпрямителя №4, 0x01 - перегрев, 0x02 завышено Uвых, 0x04 занижено Uвых, 0x08 - отсутствует связь с выпрямителем
00037a  f88d401e          STRB     r4,[sp,#0x1e]
;;;1175   modbus_registers[31]=(signed char)(bps[3]._av);
00037e  f8906139          LDRB     r6,[r0,#0x139]  ; bps
000382  f88d601f          STRB     r6,[sp,#0x1f]
;;;1176   modbus_registers[32]=(signed char)(bps[4]._Uii>>8);			//Рег17	Выходное напряжение выпрямителя №5, 0.1В
000386  f8d061bc          LDR      r6,[r0,#0x1bc]  ; bps
00038a  ea4f2c26          ASR      r12,r6,#8
00038e  f88dc020          STRB     r12,[sp,#0x20]
;;;1177   modbus_registers[33]=(signed char)(bps[4]._Uii);
000392  f88d6021          STRB     r6,[sp,#0x21]
;;;1178   modbus_registers[34]=(signed char)(bps[4]._Ii>>8);			//Рег18	Выходной ток выпрямителя №5, 0.1А
000396  f8d061c4          LDR      r6,[r0,#0x1c4]  ; bps
00039a  ea4f2c26          ASR      r12,r6,#8
00039e  f88dc022          STRB     r12,[sp,#0x22]
;;;1179   modbus_registers[35]=(signed char)(bps[4]._Ii);
0003a2  f88d6023          STRB     r6,[sp,#0x23]
;;;1180   modbus_registers[36]=(signed char)(bps[4]._Ti>>8);			//Рег19	Температура радиатора выпрямителя №5, 1гЦ
0003a6  f8d061c8          LDR      r6,[r0,#0x1c8]  ; bps
0003aa  ea4f2c26          ASR      r12,r6,#8
0003ae  f88dc024          STRB     r12,[sp,#0x24]
;;;1181   modbus_registers[37]=(signed char)(bps[4]._Ti);
0003b2  f88d6025          STRB     r6,[sp,#0x25]
;;;1182   modbus_registers[38]=(signed char)(bps[4]._av>>8);			//Рег20	Байт флагов выпрямителя №5, 0x01 - перегрев, 0x02 завышено Uвых, 0x04 занижено Uвых, 0x08 - отсутствует связь с выпрямителем
0003b6  f88d4026          STRB     r4,[sp,#0x26]
;;;1183   modbus_registers[39]=(signed char)(bps[4]._av);
0003ba  f89061a1          LDRB     r6,[r0,#0x1a1]  ; bps
0003be  f88d6027          STRB     r6,[sp,#0x27]
;;;1184   modbus_registers[40]=(signed char)(bps[5]._Uii>>8);			//Рег21	Выходное напряжение выпрямителя №6, 0.1В
0003c2  f8d06224          LDR      r6,[r0,#0x224]  ; bps
0003c6  ea4f2c26          ASR      r12,r6,#8
0003ca  f88dc028          STRB     r12,[sp,#0x28]
;;;1185   modbus_registers[41]=(signed char)(bps[5]._Uii);
0003ce  f88d6029          STRB     r6,[sp,#0x29]
;;;1186   modbus_registers[42]=(signed char)(bps[5]._Ii>>8);			//Рег22	Выходной ток выпрямителя №6, 0.1А
0003d2  f8d0622c          LDR      r6,[r0,#0x22c]  ; bps
0003d6  ea4f2c26          ASR      r12,r6,#8
0003da  f88dc02a          STRB     r12,[sp,#0x2a]
;;;1187   modbus_registers[43]=(signed char)(bps[5]._Ii);
0003de  f88d602b          STRB     r6,[sp,#0x2b]
;;;1188   modbus_registers[44]=(signed char)(bps[5]._Ti>>8);			//Рег23	Температура радиатора выпрямителя №6, 1гЦ
0003e2  f8d06230          LDR      r6,[r0,#0x230]  ; bps
0003e6  ea4f2c26          ASR      r12,r6,#8
0003ea  f88dc02c          STRB     r12,[sp,#0x2c]
;;;1189   modbus_registers[45]=(signed char)(bps[5]._Ti);
0003ee  f88d602d          STRB     r6,[sp,#0x2d]
;;;1190   modbus_registers[46]=(signed char)(bps[5]._av>>8);			//Рег24	Байт флагов выпрямителя №6, 0x01 - перегрев, 0x02 завышено Uвых, 0x04 занижено Uвых, 0x08 - отсутствует связь с выпрямителем
0003f2  f88d402e          STRB     r4,[sp,#0x2e]
;;;1191   modbus_registers[47]=(signed char)(bps[5]._av);
0003f6  f8906209          LDRB     r6,[r0,#0x209]  ; bps
0003fa  f88d602f          STRB     r6,[sp,#0x2f]
;;;1192   modbus_registers[48]=(signed char)(bps[6]._Uii>>8);			//Рег25	Выходное напряжение выпрямителя №7, 0.1В
0003fe  f8d0628c          LDR      r6,[r0,#0x28c]  ; bps
000402  ea4f2c26          ASR      r12,r6,#8
000406  f88dc030          STRB     r12,[sp,#0x30]
;;;1193   modbus_registers[49]=(signed char)(bps[6]._Uii);
00040a  f88d6031          STRB     r6,[sp,#0x31]
;;;1194   modbus_registers[50]=(signed char)(bps[6]._Ii>>8);			//Рег26	Выходной ток выпрямителя №7, 0.1А
00040e  f8d06294          LDR      r6,[r0,#0x294]  ; bps
000412  ea4f2c26          ASR      r12,r6,#8
000416  f88dc032          STRB     r12,[sp,#0x32]
;;;1195   modbus_registers[51]=(signed char)(bps[6]._Ii);
00041a  f88d6033          STRB     r6,[sp,#0x33]
;;;1196   modbus_registers[52]=(signed char)(bps[6]._Ti>>8);			//Рег27	Температура радиатора выпрямителя №7, 1гЦ
00041e  f8d06298          LDR      r6,[r0,#0x298]  ; bps
000422  ea4f2c26          ASR      r12,r6,#8
000426  f88dc034          STRB     r12,[sp,#0x34]
;;;1197   modbus_registers[53]=(signed char)(bps[6]._Ti);
00042a  f88d6035          STRB     r6,[sp,#0x35]
;;;1198   modbus_registers[54]=(signed char)(bps[6]._av>>8);			//Рег28	Байт флагов выпрямителя №7, 0x01 - перегрев, 0x02 завышено Uвых, 0x04 занижено Uвых, 0x08 - отсутствует связь с выпрямителем
00042e  f88d4036          STRB     r4,[sp,#0x36]
;;;1199   modbus_registers[55]=(signed char)(bps[6]._av);
000432  f8906271          LDRB     r6,[r0,#0x271]  ; bps
000436  f88d6037          STRB     r6,[sp,#0x37]
;;;1200   modbus_registers[56]=(signed char)(bps[7]._Uii>>8);			//Рег29	Выходное напряжение выпрямителя №8, 0.1В
00043a  f8d062f4          LDR      r6,[r0,#0x2f4]  ; bps
00043e  ea4f2c26          ASR      r12,r6,#8
000442  f88dc038          STRB     r12,[sp,#0x38]
;;;1201   modbus_registers[57]=(signed char)(bps[7]._Uii);
000446  f88d6039          STRB     r6,[sp,#0x39]
;;;1202   modbus_registers[58]=(signed char)(bps[7]._Ii>>8);			//Рег30	Выходной ток выпрямителя №8, 0.1А
00044a  f8d062fc          LDR      r6,[r0,#0x2fc]  ; bps
00044e  e035              B        |L1.1212|
                  |L1.1104|
                          DCD      0x40024020
                  |L1.1108|
                          DCD      NUMIST
                  |L1.1112|
                          DCD      ZV_ON
                  |L1.1116|
                          DCD      UBM_AV
                  |L1.1120|
                          DCD      TBAT
                  |L1.1124|
                          DCD      UMAX
                  |L1.1128|
                          DCD      USIGN
                  |L1.1132|
                          DCD      UMN
                  |L1.1136|
                          DCD      U0B
                  |L1.1140|
                          DCD      IKB
                  |L1.1144|
                          DCD      IZMAX
                  |L1.1148|
                          DCD      IMAX
                  |L1.1152|
                          DCD      IMIN
                  |L1.1156|
                          DCD      TZAS
                  |L1.1160|
                          DCD      TMAX
                  |L1.1164|
                          DCD      TSIGN
                  |L1.1168|
                          DCD      TBATMAX
                  |L1.1172|
                          DCD      TBATSIGN
                  |L1.1176|
                          DCD      speedChrgCurr
                  |L1.1180|
                          DCD      speedChrgVolt
                  |L1.1184|
                          DCD      speedChrgTimeInHour
                  |L1.1188|
                          DCD      U_OUT_KONTR_MAX
                  |L1.1192|
                          DCD      U_OUT_KONTR_MIN
                  |L1.1196|
                          DCD      U_OUT_KONTR_DELAY
                  |L1.1200|
                          DCD      modbus_tcp_out_ptr
                  |L1.1204|
                          DCD      ||area_number.4||+0x3c
                  |L1.1208|
                          DCD      bps
                  |L1.1212|
0004bc  ea4f2c26          ASR      r12,r6,#8
0004c0  f88dc03a          STRB     r12,[sp,#0x3a]
;;;1203   modbus_registers[59]=(signed char)(bps[7]._Ii);
0004c4  f88d603b          STRB     r6,[sp,#0x3b]
;;;1204   modbus_registers[60]=(signed char)(bps[7]._Ti>>8);			//Рег31	Температура радиатора выпрямителя №8, 1гЦ
0004c8  f8d06300          LDR      r6,[r0,#0x300]  ; bps
0004cc  ea4f2c26          ASR      r12,r6,#8
0004d0  f88dc03c          STRB     r12,[sp,#0x3c]
;;;1205   modbus_registers[61]=(signed char)(bps[7]._Ti);
0004d4  f88d603d          STRB     r6,[sp,#0x3d]
;;;1206   modbus_registers[62]=(signed char)(bps[7]._av>>8);			//Рег32	Байт флагов выпрямителя №8, 0x01 - перегрев, 0x02 завышено Uвых, 0x04 занижено Uвых, 0x08 - отсутствует связь с выпрямителем
0004d8  f88d403e          STRB     r4,[sp,#0x3e]
;;;1207   modbus_registers[63]=(signed char)(bps[7]._av);
0004dc  f89062d9          LDRB     r6,[r0,#0x2d9]  ; bps
0004e0  f88d603f          STRB     r6,[sp,#0x3f]
;;;1208   modbus_registers[64]=(signed char)(bps[8]._Uii>>8);			//Рег33	Выходное напряжение выпрямителя №9, 0.1В
0004e4  f8d0635c          LDR      r6,[r0,#0x35c]  ; bps
0004e8  ea4f2c26          ASR      r12,r6,#8
0004ec  f88dc040          STRB     r12,[sp,#0x40]
;;;1209   modbus_registers[65]=(signed char)(bps[8]._Uii);
0004f0  f88d6041          STRB     r6,[sp,#0x41]
;;;1210   modbus_registers[66]=(signed char)(bps[8]._Ii>>8);			//Рег34	Выходной ток выпрямителя №9, 0.1А
0004f4  f8d06364          LDR      r6,[r0,#0x364]  ; bps
0004f8  ea4f2c26          ASR      r12,r6,#8
0004fc  f88dc042          STRB     r12,[sp,#0x42]
;;;1211   modbus_registers[67]=(signed char)(bps[8]._Ii);
000500  f88d6043          STRB     r6,[sp,#0x43]
;;;1212   modbus_registers[68]=(signed char)(bps[8]._Ti>>8);			//Рег35	Температура радиатора выпрямителя №9, 1гЦ
000504  f8d06368          LDR      r6,[r0,#0x368]  ; bps
000508  ea4f2c26          ASR      r12,r6,#8
00050c  f88dc044          STRB     r12,[sp,#0x44]
;;;1213   modbus_registers[69]=(signed char)(bps[8]._Ti);
000510  f88d6045          STRB     r6,[sp,#0x45]
;;;1214   modbus_registers[70]=(signed char)(bps[8]._av>>8);			//Рег36	Байт флагов выпрямителя №9, 0x01 - перегрев, 0x02 завышено Uвых, 0x04 занижено Uвых, 0x08 - отсутствует связь с выпрямителем
000514  f88d4046          STRB     r4,[sp,#0x46]
;;;1215   modbus_registers[71]=(signed char)(bps[8]._av);
000518  f8906341          LDRB     r6,[r0,#0x341]  ; bps
00051c  f88d6047          STRB     r6,[sp,#0x47]
;;;1216   modbus_registers[72]=(signed char)(bps[9]._Uii>>8);			//Рег37	Выходное напряжение выпрямителя №10, 0.1В
000520  f8d063c4          LDR      r6,[r0,#0x3c4]  ; bps
000524  ea4f2c26          ASR      r12,r6,#8
000528  f88dc048          STRB     r12,[sp,#0x48]
;;;1217   modbus_registers[73]=(signed char)(bps[9]._Uii);
00052c  f88d6049          STRB     r6,[sp,#0x49]
;;;1218   modbus_registers[74]=(signed char)(bps[9]._Ii>>8);			//Рег38	Выходной ток выпрямителя №10, 0.1А
000530  f8d063cc          LDR      r6,[r0,#0x3cc]  ; bps
000534  ea4f2c26          ASR      r12,r6,#8
000538  f88dc04a          STRB     r12,[sp,#0x4a]
;;;1219   modbus_registers[75]=(signed char)(bps[9]._Ii);
00053c  f88d604b          STRB     r6,[sp,#0x4b]
;;;1220   modbus_registers[76]=(signed char)(bps[9]._Ti>>8);			//Рег39	Температура радиатора выпрямителя №10, 1гЦ
000540  f8d063d0          LDR      r6,[r0,#0x3d0]  ; bps
000544  ea4f2c26          ASR      r12,r6,#8
000548  f88dc04c          STRB     r12,[sp,#0x4c]
;;;1221   modbus_registers[77]=(signed char)(bps[9]._Ti);
00054c  f88d604d          STRB     r6,[sp,#0x4d]
;;;1222   modbus_registers[78]=(signed char)(bps[9]._av>>8);			//Рег40	Байт флагов выпрямителя №10, 0x01 - перегрев, 0x02 завышено Uвых, 0x04 занижено Uвых, 0x08 - отсутствует связь с выпрямителем
000550  f88d404e          STRB     r4,[sp,#0x4e]
;;;1223   modbus_registers[79]=(signed char)(bps[9]._av);
000554  f89063a9          LDRB     r6,[r0,#0x3a9]  ; bps
000558  f88d604f          STRB     r6,[sp,#0x4f]
;;;1224   modbus_registers[80]=(signed char)(bps[10]._Uii>>8);		//Рег41	Выходное напряжение выпрямителя №11, 0.1В
00055c  f8d0642c          LDR      r6,[r0,#0x42c]  ; bps
000560  ea4f2c26          ASR      r12,r6,#8
000564  f88dc050          STRB     r12,[sp,#0x50]
;;;1225   modbus_registers[81]=(signed char)(bps[10]._Uii);
000568  f88d6051          STRB     r6,[sp,#0x51]
;;;1226   modbus_registers[82]=(signed char)(bps[10]._Ii>>8);			//Рег42	Выходной ток выпрямителя №11, 0.1А
00056c  f8d06434          LDR      r6,[r0,#0x434]  ; bps
000570  ea4f2c26          ASR      r12,r6,#8
000574  f88dc052          STRB     r12,[sp,#0x52]
;;;1227   modbus_registers[83]=(signed char)(bps[10]._Ii);
000578  f88d6053          STRB     r6,[sp,#0x53]
;;;1228   modbus_registers[84]=(signed char)(bps[10]._Ti>>8);			//Рег43	Температура радиатора выпрямителя №11, 1гЦ
00057c  f8d06438          LDR      r6,[r0,#0x438]  ; bps
000580  ea4f2c26          ASR      r12,r6,#8
000584  f88dc054          STRB     r12,[sp,#0x54]
;;;1229   modbus_registers[85]=(signed char)(bps[10]._Ti);
000588  f88d6055          STRB     r6,[sp,#0x55]
;;;1230   modbus_registers[86]=(signed char)(bps[10]._av>>8);			//Рег44	Байт флагов выпрямителя №11, 0x01 - перегрев, 0x02 завышено Uвых, 0x04 занижено Uвых, 0x08 - отсутствует связь с выпрямителем
00058c  f88d4056          STRB     r4,[sp,#0x56]
;;;1231   modbus_registers[87]=(signed char)(bps[10]._av);
000590  f8906411          LDRB     r6,[r0,#0x411]  ; bps
000594  f88d6057          STRB     r6,[sp,#0x57]
;;;1232   modbus_registers[88]=(signed char)(bps[11]._Uii>>8);		//Рег45	Выходное напряжение выпрямителя №12, 0.1В
000598  f2004094          ADD      r0,r0,#0x494
00059c  6806              LDR      r6,[r0,#0]  ; bps
00059e  ea4f2c26          ASR      r12,r6,#8
0005a2  f88dc058          STRB     r12,[sp,#0x58]
;;;1233   modbus_registers[89]=(signed char)(bps[11]._Uii);
0005a6  f88d6059          STRB     r6,[sp,#0x59]
;;;1234   modbus_registers[90]=(signed char)(bps[11]._Ii>>8);			//Рег46	Выходной ток выпрямителя №12, 0.1А
0005aa  6886              LDR      r6,[r0,#8]  ; bps
0005ac  ea4f2c26          ASR      r12,r6,#8
0005b0  f88dc05a          STRB     r12,[sp,#0x5a]
;;;1235   modbus_registers[91]=(signed char)(bps[11]._Ii);
0005b4  f88d605b          STRB     r6,[sp,#0x5b]
;;;1236   modbus_registers[92]=(signed char)(bps[11]._Ti>>8);			//Рег47	Температура радиатора выпрямителя №12, 1гЦ
0005b8  68c6              LDR      r6,[r0,#0xc]  ; bps
0005ba  ea4f2c26          ASR      r12,r6,#8
0005be  f88dc05c          STRB     r12,[sp,#0x5c]
;;;1237   modbus_registers[93]=(signed char)(bps[11]._Ti);
0005c2  f88d605d          STRB     r6,[sp,#0x5d]
;;;1238   modbus_registers[94]=(signed char)(bps[11]._av>>8);			//Рег48	Байт флагов выпрямителя №12, 0x01 - перегрев, 0x02 завышено Uвых, 0x04 занижено Uвых, 0x08 - отсутствует связь с выпрямителем
0005c6  f88d405e          STRB     r4,[sp,#0x5e]
;;;1239   modbus_registers[95]=(signed char)(bps[11]._av);
0005ca  f8106c1b          LDRB     r6,[r0,#-0x1b]  ; bps
0005ce  f88d605f          STRB     r6,[sp,#0x5f]
;;;1240   
;;;1241   															
;;;1242   modbus_registers[98]=(signed char)	(out_U>>8);				//Рег50 Выходное напряжение системы
0005d2  4eff              LDR      r6,|L1.2512|
0005d4  8836              LDRH     r6,[r6,#0]  ; out_U
0005d6  ea4f2c26          ASR      r12,r6,#8
0005da  f88dc062          STRB     r12,[sp,#0x62]
;;;1243   modbus_registers[99]=(signed char)	(out_U);
0005de  f88d6063          STRB     r6,[sp,#0x63]
;;;1244   modbus_registers[100]=(signed char)	(in_U>>8);				//Рег51	Входное напряжение системы
0005e2  4efc              LDR      r6,|L1.2516|
0005e4  8836              LDRH     r6,[r6,#0]  ; in_U
0005e6  ea4f2c26          ASR      r12,r6,#8
0005ea  f88dc064          STRB     r12,[sp,#0x64]
;;;1245   modbus_registers[101]=(signed char)	(in_U);
0005ee  f88d6065          STRB     r6,[sp,#0x65]
;;;1246   modbus_registers[102]=(signed char)	(vd_U>>8);				//Рег52	Напряжение вольтдобавки
0005f2  4ef9              LDR      r6,|L1.2520|
0005f4  8836              LDRH     r6,[r6,#0]  ; vd_U
0005f6  ea4f2c26          ASR      r12,r6,#8
0005fa  f88dc066          STRB     r12,[sp,#0x66]
;;;1247   modbus_registers[103]=(signed char)	(vd_U);
0005fe  f88d6067          STRB     r6,[sp,#0x67]
;;;1248   modbus_registers[104]=(signed char)	(Ib_ips_termokompensat>>8);		//Рег53	Выходной ток
000602  4ef6              LDR      r6,|L1.2524|
000604  8836              LDRH     r6,[r6,#0]  ; Ib_ips_termokompensat
000606  ea4f2c26          ASR      r12,r6,#8
00060a  f88dc068          STRB     r12,[sp,#0x68]
;;;1249   modbus_registers[105]=(signed char)	(Ib_ips_termokompensat);
00060e  f88d6069          STRB     r6,[sp,#0x69]
;;;1250   
;;;1251   modbus_registers[106]=(signed char)	(t_ext[0]>>8);				//Рег54	 Температура системы
000612  4ef3              LDR      r6,|L1.2528|
000614  8836              LDRH     r6,[r6,#0]  ; t_ext
000616  ea4f2c26          ASR      r12,r6,#8
00061a  f88dc06a          STRB     r12,[sp,#0x6a]
;;;1252   modbus_registers[107]=(signed char)	(t_ext[0]);
00061e  f88d606b          STRB     r6,[sp,#0x6b]
;;;1253   modbus_registers[108]=(signed char)	(avar_vd_stat>>8);		//Рег55	 Флаг аварий системы
000622  4ef0              LDR      r6,|L1.2532|
000624  8836              LDRH     r6,[r6,#0]  ; avar_vd_stat
000626  ea4f2c26          ASR      r12,r6,#8
00062a  f88dc06c          STRB     r12,[sp,#0x6c]
;;;1254   modbus_registers[109]=(signed char)	(avar_vd_stat);			// Бит 0 - авария одного из БПС
00062e  f88d606d          STRB     r6,[sp,#0x6d]
;;;1255   															// Бит 1 - перегрузка системы по току
;;;1256   															// Бит 2 - перегрев системы
;;;1257   															// Бит 3 - выходное напряжение завышено
;;;1258   															// Бит 4 - выходное напряжение занижено
;;;1259   															// Бит 5 - входное напряжение завышено
;;;1260   															// Бит 6 - входное напряжение занижено
;;;1261   															// Бит 7 - авария связи по шине KAN
;;;1262   															// Бит 8 - вольтдобавка в работе
;;;1263   
;;;1264   
;;;1265   modbus_registers[118]=(signed char)(bps[12]._Uii>>8);			//Рег60	Выходное напряжение выпрямителя №13, 0.1В
000632  6e86              LDR      r6,[r0,#0x68]  ; bps
000634  ea4f2c26          ASR      r12,r6,#8
000638  f88dc076          STRB     r12,[sp,#0x76]
;;;1266   modbus_registers[119]=(signed char)(bps[12]._Uii);
00063c  f88d6077          STRB     r6,[sp,#0x77]
;;;1267   modbus_registers[120]=(signed char)(bps[12]._Ii>>8);			//Рег61	Выходной ток выпрямителя №13, 0.1А
000640  6f06              LDR      r6,[r0,#0x70]  ; bps
000642  ea4f2c26          ASR      r12,r6,#8
000646  f88dc078          STRB     r12,[sp,#0x78]
;;;1268   modbus_registers[121]=(signed char)(bps[12]._Ii);
00064a  f88d6079          STRB     r6,[sp,#0x79]
;;;1269   modbus_registers[122]=(signed char)(bps[12]._Ti>>8);			//Рег62	Температура радиатора выпрямителя №13, 1гЦ
00064e  6f46              LDR      r6,[r0,#0x74]  ; bps
000650  ea4f2c26          ASR      r12,r6,#8
000654  f88dc07a          STRB     r12,[sp,#0x7a]
;;;1270   modbus_registers[123]=(signed char)(bps[12]._Ti);
000658  f88d607b          STRB     r6,[sp,#0x7b]
;;;1271   modbus_registers[124]=(signed char)(bps[12]._av>>8);			//Рег63	Байт флагов выпрямителя №13, 0x01 - перегрев, 0x02 завышено Uвых, 0x04 занижено Uвых, 0x08 - отсутствует связь с выпрямителем
00065c  f88d407c          STRB     r4,[sp,#0x7c]
;;;1272   modbus_registers[125]=(signed char)(bps[12]._av);
000660  f890604d          LDRB     r6,[r0,#0x4d]  ; bps
000664  f88d607d          STRB     r6,[sp,#0x7d]
;;;1273   modbus_registers[126]=(signed char)(bps[13]._Uii>>8);			//Рег64	Выходное напряжение выпрямителя №14, 0.1В
000668  f8d060d0          LDR      r6,[r0,#0xd0]  ; bps
00066c  ea4f2c26          ASR      r12,r6,#8
000670  f88dc07e          STRB     r12,[sp,#0x7e]
;;;1274   modbus_registers[127]=(signed char)(bps[13]._Uii);
000674  f88d607f          STRB     r6,[sp,#0x7f]
;;;1275   modbus_registers[128]=(signed char)(bps[13]._Ii>>8);			//Рег65	Выходной ток выпрямителя №14, 0.1А
000678  f8d060d8          LDR      r6,[r0,#0xd8]  ; bps
00067c  ea4f2c26          ASR      r12,r6,#8
000680  f88dc080          STRB     r12,[sp,#0x80]
;;;1276   modbus_registers[129]=(signed char)(bps[13]._Ii);
000684  f88d6081          STRB     r6,[sp,#0x81]
;;;1277   modbus_registers[130]=(signed char)(bps[13]._Ti>>8);			//Рег66	Температура радиатора выпрямителя №14, 1гЦ
000688  f8d060dc          LDR      r6,[r0,#0xdc]  ; bps
00068c  ea4f2c26          ASR      r12,r6,#8
000690  f88dc082          STRB     r12,[sp,#0x82]
;;;1278   modbus_registers[131]=(signed char)(bps[13]._Ti);
000694  f88d6083          STRB     r6,[sp,#0x83]
;;;1279   modbus_registers[132]=(signed char)(bps[13]._av>>8);			//Рег67	Байт флагов выпрямителя №14, 0x01 - перегрев, 0x02 завышено Uвых, 0x04 занижено Uвых, 0x08 - отсутствует связь с выпрямителем
000698  f88d4084          STRB     r4,[sp,#0x84]
;;;1280   modbus_registers[133]=(signed char)(bps[13]._av);
00069c  f89060b5          LDRB     r6,[r0,#0xb5]  ; bps
0006a0  f88d6085          STRB     r6,[sp,#0x85]
;;;1281   modbus_registers[134]=(signed char)(bps[14]._Uii>>8);			//Рег68	Выходное напряжение выпрямителя №15, 0.1В
0006a4  f8d06138          LDR      r6,[r0,#0x138]  ; bps
0006a8  ea4f2c26          ASR      r12,r6,#8
0006ac  f88dc086          STRB     r12,[sp,#0x86]
;;;1282   modbus_registers[135]=(signed char)(bps[14]._Uii);
0006b0  f88d6087          STRB     r6,[sp,#0x87]
;;;1283   modbus_registers[136]=(signed char)(bps[14]._Ii>>8);			//Рег69	Выходной ток выпрямителя №15, 0.1А
0006b4  f8d06140          LDR      r6,[r0,#0x140]  ; bps
0006b8  ea4f2c26          ASR      r12,r6,#8
0006bc  f88dc088          STRB     r12,[sp,#0x88]
;;;1284   modbus_registers[137]=(signed char)(bps[14]._Ii);
0006c0  f88d6089          STRB     r6,[sp,#0x89]
;;;1285   modbus_registers[138]=(signed char)(bps[14]._Ti>>8);			//Рег70	Температура радиатора выпрямителя №15, 1гЦ
0006c4  f8d06144          LDR      r6,[r0,#0x144]  ; bps
0006c8  ea4f2c26          ASR      r12,r6,#8
0006cc  f88dc08a          STRB     r12,[sp,#0x8a]
;;;1286   modbus_registers[139]=(signed char)(bps[14]._Ti);
0006d0  f88d608b          STRB     r6,[sp,#0x8b]
;;;1287   modbus_registers[140]=(signed char)(bps[14]._av>>8);			//Рег71	Байт флагов выпрямителя №15, 0x01 - перегрев, 0x02 завышено Uвых, 0x04 занижено Uвых, 0x08 - отсутствует связь с выпрямителем
0006d4  f88d408c          STRB     r4,[sp,#0x8c]
;;;1288   modbus_registers[141]=(signed char)(bps[14]._av);
0006d8  f890611d          LDRB     r6,[r0,#0x11d]  ; bps
0006dc  f88d608d          STRB     r6,[sp,#0x8d]
;;;1289   modbus_registers[142]=(signed char)(bps[15]._Uii>>8);			//Рег72	Выходное напряжение выпрямителя №16, 0.1В
0006e0  f8d061a0          LDR      r6,[r0,#0x1a0]  ; bps
0006e4  ea4f2c26          ASR      r12,r6,#8
0006e8  f88dc08e          STRB     r12,[sp,#0x8e]
;;;1290   modbus_registers[143]=(signed char)(bps[15]._Uii);
0006ec  f88d608f          STRB     r6,[sp,#0x8f]
;;;1291   modbus_registers[144]=(signed char)(bps[15]._Ii>>8);			//Рег73	Выходной ток выпрямителя №16, 0.1А
0006f0  f8d061a8          LDR      r6,[r0,#0x1a8]  ; bps
0006f4  ea4f2c26          ASR      r12,r6,#8
0006f8  f88dc090          STRB     r12,[sp,#0x90]
;;;1292   modbus_registers[145]=(signed char)(bps[15]._Ii);
0006fc  f88d6091          STRB     r6,[sp,#0x91]
;;;1293   modbus_registers[146]=(signed char)(bps[15]._Ti>>8);			//Рег74	Температура радиатора выпрямителя №16, 1гЦ
000700  f8d061ac          LDR      r6,[r0,#0x1ac]  ; bps
000704  ea4f2c26          ASR      r12,r6,#8
000708  f88dc092          STRB     r12,[sp,#0x92]
;;;1294   modbus_registers[147]=(signed char)(bps[15]._Ti);
00070c  f88d6093          STRB     r6,[sp,#0x93]
;;;1295   modbus_registers[148]=(signed char)(bps[15]._av>>8);			//Рег75	Байт флагов выпрямителя №16, 0x01 - перегрев, 0x02 завышено Uвых, 0x04 занижено Uвых, 0x08 - отсутствует связь с выпрямителем
000710  f88d4094          STRB     r4,[sp,#0x94]
;;;1296   modbus_registers[149]=(signed char)(bps[15]._av);
000714  f8906185          LDRB     r6,[r0,#0x185]  ; bps
000718  f88d6095          STRB     r6,[sp,#0x95]
;;;1297   modbus_registers[150]=(signed char)(bps[16]._Uii>>8);			//Рег76	Выходное напряжение выпрямителя №17, 0.1В
00071c  f8d06208          LDR      r6,[r0,#0x208]  ; bps
000720  ea4f2c26          ASR      r12,r6,#8
000724  f88dc096          STRB     r12,[sp,#0x96]
;;;1298   modbus_registers[151]=(signed char)(bps[16]._Uii);
000728  f88d6097          STRB     r6,[sp,#0x97]
;;;1299   modbus_registers[152]=(signed char)(bps[16]._Ii>>8);			//Рег77	Выходной ток выпрямителя №17, 0.1А
00072c  f8d06210          LDR      r6,[r0,#0x210]  ; bps
000730  ea4f2c26          ASR      r12,r6,#8
000734  f88dc098          STRB     r12,[sp,#0x98]
;;;1300   modbus_registers[153]=(signed char)(bps[16]._Ii);
000738  f88d6099          STRB     r6,[sp,#0x99]
;;;1301   modbus_registers[154]=(signed char)(bps[16]._Ti>>8);			//Рег78	Температура радиатора выпрямителя №17, 1гЦ
00073c  f8d06214          LDR      r6,[r0,#0x214]  ; bps
000740  ea4f2c26          ASR      r12,r6,#8
000744  f88dc09a          STRB     r12,[sp,#0x9a]
;;;1302   modbus_registers[155]=(signed char)(bps[16]._Ti);
000748  f88d609b          STRB     r6,[sp,#0x9b]
;;;1303   modbus_registers[156]=(signed char)(bps[16]._av>>8);			//Рег79	Байт флагов выпрямителя №17, 0x01 - перегрев, 0x02 завышено Uвых, 0x04 занижено Uвых, 0x08 - отсутствует связь с выпрямителем
00074c  f88d409c          STRB     r4,[sp,#0x9c]
;;;1304   modbus_registers[157]=(signed char)(bps[16]._av);
000750  f89061ed          LDRB     r6,[r0,#0x1ed]  ; bps
000754  f88d609d          STRB     r6,[sp,#0x9d]
;;;1305   modbus_registers[158]=(signed char)(bps[17]._Uii>>8);			//Рег80	Выходное напряжение выпрямителя №18, 0.1В
000758  f8d06270          LDR      r6,[r0,#0x270]  ; bps
00075c  ea4f2c26          ASR      r12,r6,#8
000760  f88dc09e          STRB     r12,[sp,#0x9e]
;;;1306   modbus_registers[159]=(signed char)(bps[17]._Uii);
000764  f88d609f          STRB     r6,[sp,#0x9f]
;;;1307   modbus_registers[160]=(signed char)(bps[17]._Ii>>8);			//Рег81	Выходной ток выпрямителя №18, 0.1А
000768  f8d06278          LDR      r6,[r0,#0x278]  ; bps
00076c  ea4f2c26          ASR      r12,r6,#8
000770  f88dc0a0          STRB     r12,[sp,#0xa0]
;;;1308   modbus_registers[161]=(signed char)(bps[17]._Ii);
000774  f88d60a1          STRB     r6,[sp,#0xa1]
;;;1309   modbus_registers[162]=(signed char)(bps[17]._Ti>>8);			//Рег82	Температура радиатора выпрямителя №18, 1гЦ
000778  f8d0627c          LDR      r6,[r0,#0x27c]  ; bps
00077c  ea4f2c26          ASR      r12,r6,#8
000780  f88dc0a2          STRB     r12,[sp,#0xa2]
;;;1310   modbus_registers[163]=(signed char)(bps[17]._Ti);
000784  f88d60a3          STRB     r6,[sp,#0xa3]
;;;1311   modbus_registers[164]=(signed char)(bps[17]._av>>8);			//Рег83	Байт флагов выпрямителя №18, 0x01 - перегрев, 0x02 завышено Uвых, 0x04 занижено Uвых, 0x08 - отсутствует связь с выпрямителем
000788  f88d40a4          STRB     r4,[sp,#0xa4]
;;;1312   modbus_registers[165]=(signed char)(bps[17]._av);
00078c  f8906255          LDRB     r6,[r0,#0x255]  ; bps
000790  f88d60a5          STRB     r6,[sp,#0xa5]
;;;1313   modbus_registers[166]=(signed char)(bps[18]._Uii>>8);			//Рег84	Выходное напряжение выпрямителя №19, 0.1В
000794  f8d062d8          LDR      r6,[r0,#0x2d8]  ; bps
000798  ea4f2c26          ASR      r12,r6,#8
00079c  f88dc0a6          STRB     r12,[sp,#0xa6]
;;;1314   modbus_registers[167]=(signed char)(bps[18]._Uii);
0007a0  f88d60a7          STRB     r6,[sp,#0xa7]
;;;1315   modbus_registers[168]=(signed char)(bps[18]._Ii>>8);			//Рег85	Выходной ток выпрямителя №19, 0.1А
0007a4  f8d062e0          LDR      r6,[r0,#0x2e0]  ; bps
0007a8  ea4f2c26          ASR      r12,r6,#8
0007ac  f88dc0a8          STRB     r12,[sp,#0xa8]
;;;1316   modbus_registers[169]=(signed char)(bps[18]._Ii);
0007b0  f88d60a9          STRB     r6,[sp,#0xa9]
;;;1317   modbus_registers[170]=(signed char)(bps[18]._Ti>>8);			//Рег86	Температура радиатора выпрямителя №19, 1гЦ
0007b4  f8d062e4          LDR      r6,[r0,#0x2e4]  ; bps
0007b8  ea4f2c26          ASR      r12,r6,#8
0007bc  f88dc0aa          STRB     r12,[sp,#0xaa]
;;;1318   modbus_registers[171]=(signed char)(bps[18]._Ti);
0007c0  f88d60ab          STRB     r6,[sp,#0xab]
;;;1319   modbus_registers[172]=(signed char)(bps[18]._av>>8);			//Рег87	Байт флагов выпрямителя №19, 0x01 - перегрев, 0x02 завышено Uвых, 0x04 занижено Uвых, 0x08 - отсутствует связь с выпрямителем
0007c4  f88d40ac          STRB     r4,[sp,#0xac]
;;;1320   modbus_registers[173]=(signed char)(bps[18]._av);
0007c8  f89062bd          LDRB     r6,[r0,#0x2bd]  ; bps
0007cc  f88d60ad          STRB     r6,[sp,#0xad]
;;;1321   modbus_registers[174]=(signed char)(bps[19]._Uii>>8);			//Рег88	Выходное напряжение выпрямителя №20, 0.1В
0007d0  f8d06340          LDR      r6,[r0,#0x340]  ; bps
0007d4  ea4f2c26          ASR      r12,r6,#8
0007d8  f88dc0ae          STRB     r12,[sp,#0xae]
;;;1322   modbus_registers[175]=(signed char)(bps[19]._Uii);
0007dc  f88d60af          STRB     r6,[sp,#0xaf]
;;;1323   modbus_registers[176]=(signed char)(bps[19]._Ii>>8);			//Рег89	Выходной ток выпрямителя №20, 0.1А
0007e0  f8d06348          LDR      r6,[r0,#0x348]  ; bps
0007e4  ea4f2c26          ASR      r12,r6,#8
0007e8  f88dc0b0          STRB     r12,[sp,#0xb0]
;;;1324   modbus_registers[177]=(signed char)(bps[19]._Ii);
0007ec  f88d60b1          STRB     r6,[sp,#0xb1]
;;;1325   modbus_registers[178]=(signed char)(bps[19]._Ti>>8);			//Рег90	Температура радиатора выпрямителя №20, 1гЦ
0007f0  f8d0634c          LDR      r6,[r0,#0x34c]  ; bps
0007f4  ea4f2c26          ASR      r12,r6,#8
0007f8  f88dc0b2          STRB     r12,[sp,#0xb2]
;;;1326   modbus_registers[179]=(signed char)(bps[19]._Ti);
0007fc  f88d60b3          STRB     r6,[sp,#0xb3]
;;;1327   modbus_registers[180]=(signed char)(bps[19]._av>>8);			//Рег91	Байт флагов выпрямителя №20, 0x01 - перегрев, 0x02 завышено Uвых, 0x04 занижено Uвых, 0x08 - отсутствует связь с выпрямителем
000800  f88d40b4          STRB     r4,[sp,#0xb4]
;;;1328   modbus_registers[181]=(signed char)(bps[19]._av);
000804  f8906325          LDRB     r6,[r0,#0x325]  ; bps
000808  f88d60b5          STRB     r6,[sp,#0xb5]
;;;1329   modbus_registers[182]=(signed char)(bps[20]._Uii>>8);			//Рег92	Выходное напряжение выпрямителя №21, 0.1В
00080c  f8d063a8          LDR      r6,[r0,#0x3a8]  ; bps
000810  ea4f2c26          ASR      r12,r6,#8
000814  f88dc0b6          STRB     r12,[sp,#0xb6]
;;;1330   modbus_registers[183]=(signed char)(bps[20]._Uii);
000818  f88d60b7          STRB     r6,[sp,#0xb7]
;;;1331   modbus_registers[184]=(signed char)(bps[20]._Ii>>8);			//Рег93	Выходной ток выпрямителя №21, 0.1А
00081c  f8d063b0          LDR      r6,[r0,#0x3b0]  ; bps
000820  ea4f2c26          ASR      r12,r6,#8
000824  f88dc0b8          STRB     r12,[sp,#0xb8]
;;;1332   modbus_registers[185]=(signed char)(bps[20]._Ii);
000828  f88d60b9          STRB     r6,[sp,#0xb9]
;;;1333   modbus_registers[186]=(signed char)(bps[20]._Ti>>8);			//Рег94	Температура радиатора выпрямителя №21, 1гЦ
00082c  f8d063b4          LDR      r6,[r0,#0x3b4]  ; bps
000830  f2a04094          SUB      r0,r0,#0x494
000834  ea4f2c26          ASR      r12,r6,#8
000838  f88dc0ba          STRB     r12,[sp,#0xba]
;;;1334   modbus_registers[187]=(signed char)(bps[20]._Ti);
00083c  f88d60bb          STRB     r6,[sp,#0xbb]
;;;1335   modbus_registers[188]=(signed char)(bps[20]._av>>8);			//Рег95	Байт флагов выпрямителя №21, 0x01 - перегрев, 0x02 завышено Uвых, 0x04 занижено Uвых, 0x08 - отсутствует связь с выпрямителем
000840  f88d40bc          STRB     r4,[sp,#0xbc]
;;;1336   modbus_registers[189]=(signed char)(bps[20]._av);
000844  f600009c          ADD      r0,r0,#0x89c
000848  f8106c7b          LDRB     r6,[r0,#-0x7b]  ; bps
00084c  f88d60bd          STRB     r6,[sp,#0xbd]
;;;1337   modbus_registers[190]=(signed char)(bps[21]._Uii>>8);			//Рег96	Выходное напряжение выпрямителя №22, 0.1В
000850  6886              LDR      r6,[r0,#8]  ; bps
000852  ea4f2c26          ASR      r12,r6,#8
000856  f88dc0be          STRB     r12,[sp,#0xbe]
;;;1338   modbus_registers[191]=(signed char)(bps[21]._Uii);
00085a  f88d60bf          STRB     r6,[sp,#0xbf]
;;;1339   modbus_registers[192]=(signed char)(bps[21]._Ii>>8);			//Рег97	Выходной ток выпрямителя №22, 0.1А
00085e  6906              LDR      r6,[r0,#0x10]  ; bps
000860  ea4f2c26          ASR      r12,r6,#8
000864  f88dc0c0          STRB     r12,[sp,#0xc0]
;;;1340   modbus_registers[193]=(signed char)(bps[21]._Ii);
000868  f88d60c1          STRB     r6,[sp,#0xc1]
;;;1341   modbus_registers[194]=(signed char)(bps[21]._Ti>>8);			//Рег98	Температура радиатора выпрямителя №22, 1гЦ
00086c  6946              LDR      r6,[r0,#0x14]  ; bps
00086e  ea4f2c26          ASR      r12,r6,#8
000872  f88dc0c2          STRB     r12,[sp,#0xc2]
;;;1342   modbus_registers[195]=(signed char)(bps[21]._Ti);
000876  f88d60c3          STRB     r6,[sp,#0xc3]
;;;1343   modbus_registers[196]=(signed char)(bps[21]._av>>8);			//Рег99	Байт флагов выпрямителя №22, 0x01 - перегрев, 0x02 завышено Uвых, 0x04 занижено Uвых, 0x08 - отсутствует связь с выпрямителем
00087a  f88d40c4          STRB     r4,[sp,#0xc4]
;;;1344   modbus_registers[197]=(signed char)(bps[21]._av);
00087e  f8106c13          LDRB     r6,[r0,#-0x13]  ; bps
000882  f88d60c5          STRB     r6,[sp,#0xc5]
;;;1345   modbus_registers[198]=(signed char)(bps[22]._Uii>>8);			//Рег100	Выходное напряжение выпрямителя №23, 0.1В
000886  6f06              LDR      r6,[r0,#0x70]  ; bps
000888  ea4f2c26          ASR      r12,r6,#8
00088c  f88dc0c6          STRB     r12,[sp,#0xc6]
;;;1346   modbus_registers[199]=(signed char)(bps[22]._Uii);
000890  f88d60c7          STRB     r6,[sp,#0xc7]
;;;1347   modbus_registers[200]=(signed char)(bps[22]._Ii>>8);			//Рег101	Выходной ток выпрямителя №23, 0.1А
000894  6f86              LDR      r6,[r0,#0x78]  ; bps
000896  ea4f2c26          ASR      r12,r6,#8
00089a  f88dc0c8          STRB     r12,[sp,#0xc8]
;;;1348   modbus_registers[201]=(signed char)(bps[22]._Ii);
00089e  f88d60c9          STRB     r6,[sp,#0xc9]
;;;1349   modbus_registers[202]=(signed char)(bps[22]._Ti>>8);			//Рег102	Температура радиатора выпрямителя №23, 1гЦ
0008a2  6fc6              LDR      r6,[r0,#0x7c]  ; bps
0008a4  ea4f2c26          ASR      r12,r6,#8
0008a8  f88dc0ca          STRB     r12,[sp,#0xca]
;;;1350   modbus_registers[203]=(signed char)(bps[22]._Ti);
0008ac  f88d60cb          STRB     r6,[sp,#0xcb]
;;;1351   modbus_registers[204]=(signed char)(bps[22]._av>>8);			//Рег103	Байт флагов выпрямителя №23, 0x01 - перегрев, 0x02 завышено Uвых, 0x04 занижено Uвых, 0x08 - отсутствует связь с выпрямителем
0008b0  f88d40cc          STRB     r4,[sp,#0xcc]
;;;1352   modbus_registers[205]=(signed char)(bps[22]._av);
0008b4  f8906055          LDRB     r6,[r0,#0x55]  ; bps
0008b8  f88d60cd          STRB     r6,[sp,#0xcd]
;;;1353   modbus_registers[206]=(signed char)(bps[23]._Uii>>8);			//Рег104	Выходное напряжение выпрямителя №24, 0.1В
0008bc  f8d060d8          LDR      r6,[r0,#0xd8]  ; bps
0008c0  ea4f2c26          ASR      r12,r6,#8
0008c4  f88dc0ce          STRB     r12,[sp,#0xce]
;;;1354   modbus_registers[207]=(signed char)(bps[23]._Uii);
0008c8  f88d60cf          STRB     r6,[sp,#0xcf]
;;;1355   modbus_registers[208]=(signed char)(bps[23]._Ii>>8);			//Рег105	Выходной ток выпрямителя №24, 0.1А
0008cc  f8d060e0          LDR      r6,[r0,#0xe0]  ; bps
0008d0  ea4f2c26          ASR      r12,r6,#8
0008d4  f88dc0d0          STRB     r12,[sp,#0xd0]
;;;1356   modbus_registers[209]=(signed char)(bps[23]._Ii);
0008d8  f88d60d1          STRB     r6,[sp,#0xd1]
;;;1357   modbus_registers[210]=(signed char)(bps[23]._Ti>>8);			//Рег106	Температура радиатора выпрямителя №24, 1гЦ
0008dc  f8d060e4          LDR      r6,[r0,#0xe4]  ; bps
0008e0  ea4f2c26          ASR      r12,r6,#8
0008e4  f88dc0d2          STRB     r12,[sp,#0xd2]
;;;1358   modbus_registers[211]=(signed char)(bps[23]._Ti);
0008e8  f88d60d3          STRB     r6,[sp,#0xd3]
;;;1359   modbus_registers[212]=(signed char)(bps[23]._av>>8);			//Рег107	Байт флагов выпрямителя №24, 0x01 - перегрев, 0x02 завышено Uвых, 0x04 занижено Uвых, 0x08 - отсутствует связь с выпрямителем
0008ec  f88d40d4          STRB     r4,[sp,#0xd4]
;;;1360   modbus_registers[213]=(signed char)(bps[23]._av);
0008f0  f89060bd          LDRB     r6,[r0,#0xbd]  ; bps
0008f4  f88d60d5          STRB     r6,[sp,#0xd5]
;;;1361   modbus_registers[214]=(signed char)(bps[24]._Uii>>8);			//Рег108	Выходное напряжение выпрямителя №25, 0.1В
0008f8  f8d06140          LDR      r6,[r0,#0x140]  ; bps
0008fc  ea4f2c26          ASR      r12,r6,#8
000900  f88dc0d6          STRB     r12,[sp,#0xd6]
;;;1362   modbus_registers[215]=(signed char)(bps[24]._Uii);
000904  f88d60d7          STRB     r6,[sp,#0xd7]
;;;1363   modbus_registers[216]=(signed char)(bps[24]._Ii>>8);			//Рег109	Выходной ток выпрямителя №25, 0.1А
000908  f8d06148          LDR      r6,[r0,#0x148]  ; bps
00090c  ea4f2c26          ASR      r12,r6,#8
000910  f88dc0d8          STRB     r12,[sp,#0xd8]
;;;1364   modbus_registers[217]=(signed char)(bps[24]._Ii);
000914  f88d60d9          STRB     r6,[sp,#0xd9]
;;;1365   modbus_registers[218]=(signed char)(bps[24]._Ti>>8);			//Рег110	Температура радиатора выпрямителя №25, 1гЦ
000918  f8d0614c          LDR      r6,[r0,#0x14c]  ; bps
00091c  ea4f2c26          ASR      r12,r6,#8
000920  f88dc0da          STRB     r12,[sp,#0xda]
;;;1366   modbus_registers[219]=(signed char)(bps[24]._Ti);
000924  f88d60db          STRB     r6,[sp,#0xdb]
;;;1367   modbus_registers[220]=(signed char)(bps[24]._av>>8);			//Рег111	Байт флагов выпрямителя №25, 0x01 - перегрев, 0x02 завышено Uвых, 0x04 занижено Uвых, 0x08 - отсутствует связь с выпрямителем
000928  f88d40dc          STRB     r4,[sp,#0xdc]
;;;1368   modbus_registers[221]=(signed char)(bps[24]._av);
00092c  f8906125          LDRB     r6,[r0,#0x125]  ; bps
000930  f88d60dd          STRB     r6,[sp,#0xdd]
;;;1369   modbus_registers[222]=(signed char)(bps[25]._Uii>>8);			//Рег112	Выходное напряжение выпрямителя №26, 0.1В
000934  f8d061a8          LDR      r6,[r0,#0x1a8]  ; bps
000938  ea4f2c26          ASR      r12,r6,#8
00093c  f88dc0de          STRB     r12,[sp,#0xde]
;;;1370   modbus_registers[223]=(signed char)(bps[25]._Uii);
000940  f88d60df          STRB     r6,[sp,#0xdf]
;;;1371   modbus_registers[224]=(signed char)(bps[25]._Ii>>8);			//Рег113	Выходной ток выпрямителя №26, 0.1А
000944  f8d061b0          LDR      r6,[r0,#0x1b0]  ; bps
000948  ea4f2c26          ASR      r12,r6,#8
00094c  f88dc0e0          STRB     r12,[sp,#0xe0]
;;;1372   modbus_registers[225]=(signed char)(bps[25]._Ii);
000950  f88d60e1          STRB     r6,[sp,#0xe1]
;;;1373   modbus_registers[226]=(signed char)(bps[25]._Ti>>8);			//Рег114	Температура радиатора выпрямителя №26, 1гЦ
000954  f8d061b4          LDR      r6,[r0,#0x1b4]  ; bps
000958  ea4f2c26          ASR      r12,r6,#8
00095c  f88dc0e2          STRB     r12,[sp,#0xe2]
;;;1374   modbus_registers[227]=(signed char)(bps[25]._Ti);
000960  f88d60e3          STRB     r6,[sp,#0xe3]
;;;1375   modbus_registers[228]=(signed char)(bps[25]._av>>8);			//Рег115	Байт флагов выпрямителя №26, 0x01 - перегрев, 0x02 завышено Uвых, 0x04 занижено Uвых, 0x08 - отсутствует связь с выпрямителем
000964  f88d40e4          STRB     r4,[sp,#0xe4]
;;;1376   modbus_registers[229]=(signed char)(bps[25]._av);
000968  f890618d          LDRB     r6,[r0,#0x18d]  ; bps
00096c  f88d60e5          STRB     r6,[sp,#0xe5]
;;;1377   modbus_registers[230]=(signed char)(bps[26]._Uii>>8);			//Рег116	Выходное напряжение выпрямителя №27, 0.1В
000970  f8d06210          LDR      r6,[r0,#0x210]  ; bps
000974  ea4f2c26          ASR      r12,r6,#8
000978  f88dc0e6          STRB     r12,[sp,#0xe6]
;;;1378   modbus_registers[231]=(signed char)(bps[26]._Uii);
00097c  f88d60e7          STRB     r6,[sp,#0xe7]
;;;1379   modbus_registers[232]=(signed char)(bps[26]._Ii>>8);			//Рег117	Выходной ток выпрямителя №27, 0.1А
000980  f8d06218          LDR      r6,[r0,#0x218]  ; bps
000984  ea4f2c26          ASR      r12,r6,#8
000988  f88dc0e8          STRB     r12,[sp,#0xe8]
;;;1380   modbus_registers[233]=(signed char)(bps[26]._Ii);
00098c  f88d60e9          STRB     r6,[sp,#0xe9]
;;;1381   modbus_registers[234]=(signed char)(bps[26]._Ti>>8);			//Рег118	Температура радиатора выпрямителя №27, 1гЦ
000990  f8d0621c          LDR      r6,[r0,#0x21c]  ; bps
000994  ea4f2c26          ASR      r12,r6,#8
000998  f88dc0ea          STRB     r12,[sp,#0xea]
;;;1382   modbus_registers[235]=(signed char)(bps[26]._Ti);
00099c  f88d60eb          STRB     r6,[sp,#0xeb]
;;;1383   modbus_registers[236]=(signed char)(bps[26]._av>>8);			//Рег119	Байт флагов выпрямителя №27, 0x01 - перегрев, 0x02 завышено Uвых, 0x04 занижено Uвых, 0x08 - отсутствует связь с выпрямителем
0009a0  f88d40ec          STRB     r4,[sp,#0xec]
;;;1384   modbus_registers[237]=(signed char)(bps[26]._av);
0009a4  f89061f5          LDRB     r6,[r0,#0x1f5]  ; bps
0009a8  f88d60ed          STRB     r6,[sp,#0xed]
;;;1385   modbus_registers[238]=(signed char)(bps[27]._Uii>>8);			//Рег120	Выходное напряжение выпрямителя №28, 0.1В
0009ac  f8d06278          LDR      r6,[r0,#0x278]  ; bps
0009b0  ea4f2c26          ASR      r12,r6,#8
0009b4  f88dc0ee          STRB     r12,[sp,#0xee]
;;;1386   modbus_registers[239]=(signed char)(bps[27]._Uii);
0009b8  f88d60ef          STRB     r6,[sp,#0xef]
;;;1387   modbus_registers[240]=(signed char)(bps[27]._Ii>>8);			//Рег121	Выходной ток выпрямителя №28, 0.1А
0009bc  f8d06280          LDR      r6,[r0,#0x280]  ; bps
0009c0  ea4f2c26          ASR      r12,r6,#8
0009c4  f88dc0f0          STRB     r12,[sp,#0xf0]
;;;1388   modbus_registers[241]=(signed char)(bps[27]._Ii);
0009c8  f88d60f1          STRB     r6,[sp,#0xf1]
;;;1389   modbus_registers[242]=(signed char)(bps[27]._Ti>>8);			//Рег122	Температура радиатора выпрямителя №28, 1гЦ
0009cc  e00c              B        |L1.2536|
0009ce  0000              DCW      0x0000
                  |L1.2512|
                          DCD      out_U
                  |L1.2516|
                          DCD      in_U
                  |L1.2520|
                          DCD      vd_U
                  |L1.2524|
                          DCD      Ib_ips_termokompensat
                  |L1.2528|
                          DCD      t_ext
                  |L1.2532|
                          DCD      avar_vd_stat
                  |L1.2536|
0009e8  f8d06284          LDR      r6,[r0,#0x284]  ; bps
0009ec  ea4f2c26          ASR      r12,r6,#8
0009f0  f88dc0f2          STRB     r12,[sp,#0xf2]
;;;1390   modbus_registers[243]=(signed char)(bps[27]._Ti);
0009f4  f88d60f3          STRB     r6,[sp,#0xf3]
;;;1391   modbus_registers[244]=(signed char)(bps[27]._av>>8);			//Рег123	Байт флагов выпрямителя №28, 0x01 - перегрев, 0x02 завышено Uвых, 0x04 занижено Uвых, 0x08 - отсутствует связь с выпрямителем
0009f8  f88d40f4          STRB     r4,[sp,#0xf4]
;;;1392   modbus_registers[245]=(signed char)(bps[27]._av);
0009fc  f890625d          LDRB     r6,[r0,#0x25d]  ; bps
000a00  f88d60f5          STRB     r6,[sp,#0xf5]
;;;1393   modbus_registers[246]=(signed char)(bps[28]._Uii>>8);			//Рег124	Выходное напряжение выпрямителя №29, 0.1В
000a04  f8d062e0          LDR      r6,[r0,#0x2e0]  ; bps
000a08  ea4f2c26          ASR      r12,r6,#8
000a0c  f88dc0f6          STRB     r12,[sp,#0xf6]
;;;1394   modbus_registers[247]=(signed char)(bps[28]._Uii);
000a10  f88d60f7          STRB     r6,[sp,#0xf7]
;;;1395   modbus_registers[248]=(signed char)(bps[28]._Ii>>8);			//Рег125	Выходной ток выпрямителя №29, 0.1А
000a14  f8d062e8          LDR      r6,[r0,#0x2e8]  ; bps
000a18  ea4f2c26          ASR      r12,r6,#8
000a1c  f88dc0f8          STRB     r12,[sp,#0xf8]
;;;1396   modbus_registers[249]=(signed char)(bps[28]._Ii);
000a20  f88d60f9          STRB     r6,[sp,#0xf9]
;;;1397   modbus_registers[250]=(signed char)(bps[28]._Ti>>8);			//Рег126	Температура радиатора выпрямителя №29, 1гЦ
000a24  f8d062ec          LDR      r6,[r0,#0x2ec]  ; bps
000a28  ea4f2c26          ASR      r12,r6,#8
000a2c  f88dc0fa          STRB     r12,[sp,#0xfa]
;;;1398   modbus_registers[251]=(signed char)(bps[28]._Ti);
000a30  f88d60fb          STRB     r6,[sp,#0xfb]
;;;1399   modbus_registers[252]=(signed char)(bps[28]._av>>8);			//Рег127	Байт флагов выпрямителя №29, 0x01 - перегрев, 0x02 завышено Uвых, 0x04 занижено Uвых, 0x08 - отсутствует связь с выпрямителем
000a34  f88d40fc          STRB     r4,[sp,#0xfc]
;;;1400   modbus_registers[253]=(signed char)(bps[28]._av);
000a38  f89062c5          LDRB     r6,[r0,#0x2c5]  ; bps
000a3c  f88d60fd          STRB     r6,[sp,#0xfd]
;;;1401   modbus_registers[254]=(signed char)(bps[29]._Uii>>8);			//Рег128	Выходное напряжение выпрямителя №30, 0.1В
000a40  f8d06348          LDR      r6,[r0,#0x348]  ; bps
000a44  ea4f2c26          ASR      r12,r6,#8
000a48  f88dc0fe          STRB     r12,[sp,#0xfe]
;;;1402   modbus_registers[255]=(signed char)(bps[29]._Uii);
000a4c  f88d60ff          STRB     r6,[sp,#0xff]
;;;1403   modbus_registers[256]=(signed char)(bps[29]._Ii>>8);			//Рег129	Выходной ток выпрямителя №30, 0.1А
000a50  f8d06350          LDR      r6,[r0,#0x350]  ; bps
000a54  ea4f2c26          ASR      r12,r6,#8
000a58  f88dc100          STRB     r12,[sp,#0x100]
;;;1404   modbus_registers[257]=(signed char)(bps[29]._Ii);
000a5c  f88d6101          STRB     r6,[sp,#0x101]
;;;1405   modbus_registers[258]=(signed char)(bps[29]._Ti>>8);			//Рег130	Температура радиатора выпрямителя №30, 1гЦ
000a60  f8d06354          LDR      r6,[r0,#0x354]  ; bps
000a64  ea4f2c26          ASR      r12,r6,#8
000a68  f88dc102          STRB     r12,[sp,#0x102]
;;;1406   modbus_registers[259]=(signed char)(bps[29]._Ti);
000a6c  f88d6103          STRB     r6,[sp,#0x103]
;;;1407   modbus_registers[260]=(signed char)(bps[29]._av>>8);			//Рег131	Байт флагов выпрямителя №30, 0x01 - перегрев, 0x02 завышено Uвых, 0x04 занижено Uвых, 0x08 - отсутствует связь с выпрямителем
000a70  f88d4104          STRB     r4,[sp,#0x104]
;;;1408   modbus_registers[261]=(signed char)(bps[29]._av);
000a74  f890632d          LDRB     r6,[r0,#0x32d]  ; bps
000a78  f88d6105          STRB     r6,[sp,#0x105]
;;;1409   modbus_registers[262]=(signed char)(bps[30]._Uii>>8);			//Рег132	Выходное напряжение выпрямителя №31, 0.1В
000a7c  f8d063b0          LDR      r6,[r0,#0x3b0]  ; bps
000a80  ea4f2c26          ASR      r12,r6,#8
000a84  f88dc106          STRB     r12,[sp,#0x106]
;;;1410   modbus_registers[263]=(signed char)(bps[30]._Uii);
000a88  f88d6107          STRB     r6,[sp,#0x107]
;;;1411   modbus_registers[264]=(signed char)(bps[30]._Ii>>8);			//Рег133	Выходной ток выпрямителя №31, 0.1А
000a8c  f8d063b8          LDR      r6,[r0,#0x3b8]  ; bps
000a90  ea4f2c26          ASR      r12,r6,#8
000a94  f88dc108          STRB     r12,[sp,#0x108]
;;;1412   modbus_registers[265]=(signed char)(bps[30]._Ii);
000a98  f88d6109          STRB     r6,[sp,#0x109]
;;;1413   modbus_registers[266]=(signed char)(bps[30]._Ti>>8);			//Рег134	Температура радиатора выпрямителя №31, 1гЦ
000a9c  f8d063bc          LDR      r6,[r0,#0x3bc]  ; bps
000aa0  ea4f2c26          ASR      r12,r6,#8
000aa4  f88dc10a          STRB     r12,[sp,#0x10a]
;;;1414   modbus_registers[267]=(signed char)(bps[30]._Ti);
000aa8  f88d610b          STRB     r6,[sp,#0x10b]
;;;1415   modbus_registers[268]=(signed char)(bps[30]._av>>8);			//Рег135	Байт флагов выпрямителя №31, 0x01 - перегрев, 0x02 завышено Uвых, 0x04 занижено Uвых, 0x08 - отсутствует связь с выпрямителем
000aac  f88d410c          STRB     r4,[sp,#0x10c]
;;;1416   modbus_registers[269]=(signed char)(bps[30]._av);
000ab0  f8906395          LDRB     r6,[r0,#0x395]  ; bps
000ab4  f88d610d          STRB     r6,[sp,#0x10d]
;;;1417   modbus_registers[270]=(signed char)(bps[31]._Uii>>8);			//Рег136	Выходное напряжение выпрямителя №32, 0.1В
000ab8  f8d06418          LDR      r6,[r0,#0x418]  ; bps
000abc  ea4f2c26          ASR      r12,r6,#8
000ac0  f88dc10e          STRB     r12,[sp,#0x10e]
;;;1418   modbus_registers[271]=(signed char)(bps[31]._Uii);
000ac4  f88d610f          STRB     r6,[sp,#0x10f]
;;;1419   modbus_registers[272]=(signed char)(bps[31]._Ii>>8);			//Рег137	Выходной ток выпрямителя №32, 0.1А
000ac8  f8d06420          LDR      r6,[r0,#0x420]  ; bps
000acc  ea4f2c26          ASR      r12,r6,#8
000ad0  f88dc110          STRB     r12,[sp,#0x110]
;;;1420   modbus_registers[273]=(signed char)(bps[31]._Ii);
000ad4  f88d6111          STRB     r6,[sp,#0x111]
;;;1421   modbus_registers[274]=(signed char)(bps[31]._Ti>>8);			//Рег138	Температура радиатора выпрямителя №32, 1гЦ
000ad8  f8d06424          LDR      r6,[r0,#0x424]  ; bps
000adc  f6a0009c          SUB      r0,r0,#0x89c
000ae0  ea4f2c26          ASR      r12,r6,#8
000ae4  f88dc112          STRB     r12,[sp,#0x112]
;;;1422   modbus_registers[275]=(signed char)(bps[31]._Ti);
000ae8  f88d6113          STRB     r6,[sp,#0x113]
;;;1423   modbus_registers[276]=(signed char)(bps[31]._av>>8);			//Рег139	Байт флагов выпрямителя №32, 0x01 - перегрев, 0x02 завышено Uвых, 0x04 занижено Uвых, 0x08 - отсутствует связь с выпрямителем
000aec  f88d4114          STRB     r4,[sp,#0x114]
;;;1424   modbus_registers[277]=(signed char)(bps[31]._av);
000af0  f8900c99          LDRB     r0,[r0,#0xc99]  ; bps
000af4  f88d0115          STRB     r0,[sp,#0x115]
000af8  4668              MOV      r0,sp                 ;1137
;;;1425   
;;;1426   
;;;1427   
;;;1428    /*
;;;1429   modbus_registers[106]=(signed char)(bps_U>>8);				//Рег54   	напряжение выпрямителей, 0.1В
;;;1430   modbus_registers[107]=(signed char)(bps_U);
;;;1431   tempS=0;
;;;1432   if(speedChIsOn) tempS=1;
;;;1433   modbus_registers[108]=(signed char)(tempS>>8);					//Рег55   	Ускоренный заряд включенность, (1 - вкл, 0 - Выкл)
;;;1434   modbus_registers[109]=(signed char)(tempS);
;;;1435   tempS=0;
;;;1436   if(spc_stat==spcVZ) tempS=1;
;;;1437   modbus_registers[110]=(signed char)(tempS>>8);					//Рег56   	Выравнивающий заряд включенность, (1 - вкл, 0 - Выкл)
;;;1438   modbus_registers[111]=(signed char)(tempS);
;;;1439   modbus_registers[112]=(signed char)(uout_av>>8);					//Рег57   Контроль выходного напряжения, (0 - норма, 1 - завышено, 2 - занижено)
;;;1440   modbus_registers[113]=(signed char)(uout_av);
;;;1441   
;;;1442   tempS=0;													 //Рег60	Регистр флагов состояния системы
;;;1443   if(bat_ips._av)			tempS|=(1<<0);						 // Бит 0	Авария батареи
;;;1444   if(avar_stat&0x0001)   	tempS|=(1<<1);						 //	Бит 1	Авария питающей сети 
;;;1445   if(avar_stat&(1<<(3+0)))tempS|=(1<<2);						 //	Бит 2	Авария выпрямителя №1
;;;1446   if(avar_stat&(1<<(3+1)))tempS|=(1<<3);						 //	Бит 3	Авария выпрямителя №2
;;;1447   if(avar_stat&(1<<(3+2)))tempS|=(1<<4);						 //	Бит 4	Авария выпрямителя №2
;;;1448   modbus_registers[118]=(signed char)(tempS>>8);
;;;1449   modbus_registers[119]=(signed char)(tempS);
;;;1450   
;;;1451   tempS=t_ext[0];
;;;1452   if(ND_EXT[0])tempS=-1000;
;;;1453   modbus_registers[400]=(signed char)(tempS>>8);				//Рег201	Внешний датчик температуры №1
;;;1454   modbus_registers[401]=(signed char)(tempS);
;;;1455   tempS=t_ext[1];
;;;1456   if(ND_EXT[1])tempS=-1000;
;;;1457   modbus_registers[402]=(signed char)(tempS>>8);				//Рег202	Внешний датчик температуры №2
;;;1458   modbus_registers[403]=(signed char)(tempS);
;;;1459   tempS=t_ext[2];
;;;1460   if(ND_EXT[2])tempS=-1000;
;;;1461   modbus_registers[404]=(signed char)(tempS>>8);				//Рег203	Внешний датчик температуры №3
;;;1462   modbus_registers[405]=(signed char)(tempS);
;;;1463   /*tempS=t_ext[3];
;;;1464   if(ND_EXT[3])tempS=-1000;
;;;1465   modbus_registers[406]=(signed char)(tempS>>8);				//Рег204	Внешний датчик температуры №4
;;;1466   modbus_registers[407]=(signed char)(tempS);   */
;;;1467   /*
;;;1468   tempS=0;
;;;1469   if(sk_stat[0]==ssON) tempS|=0x0001;
;;;1470   if(sk_av_stat[0]==sasON) tempS|=0x0002;
;;;1471   modbus_registers[420]=(signed char)(tempS>>8);				//Рег211	Состояние  сухого контакта №1, (нулевой бит - физическое состояние, 1 - замкнут, 0 - разомкнут, первый бит - аварийность, 1 - авария, 0 - норма)
;;;1472   modbus_registers[421]=(signed char)(tempS);
;;;1473   tempS=0;
;;;1474   if(sk_stat[1]==ssON) tempS|=0x0001;
;;;1475   if(sk_av_stat[1]==sasON) tempS|=0x0002;
;;;1476   modbus_registers[422]=(signed char)(tempS>>8);				//Рег212	Состояние  сухого контакта №1, (нулевой бит - физическое состояние, 1 - замкнут, 0 - разомкнут, первый бит - аварийность, 1 - авария, 0 - норма)
;;;1477   modbus_registers[423]=(signed char)(tempS);
;;;1478   tempS=0;
;;;1479   if(sk_stat[2]==ssON) tempS|=0x0001;
;;;1480   if(sk_av_stat[2]==sasON) tempS|=0x0002;
;;;1481   modbus_registers[424]=(signed char)(tempS>>8);				//Рег213	Состояние  сухого контакта №1, (нулевой бит - физическое состояние, 1 - замкнут, 0 - разомкнут, первый бит - аварийность, 1 - авария, 0 - норма)
;;;1482   modbus_registers[425]=(signed char)(tempS);
;;;1483   tempS=0;
;;;1484   if(sk_stat[3]==ssON) tempS|=0x0001;
;;;1485   if(sk_av_stat[3]==sasON) tempS|=0x0002;
;;;1486   modbus_registers[426]=(signed char)(tempS>>8);				//Рег214	Состояние  сухого контакта №1, (нулевой бит - физическое состояние, 1 - замкнут, 0 - разомкнут, первый бит - аварийность, 1 - авария, 0 - норма)
;;;1487   modbus_registers[427]=(signed char)(tempS);
;;;1488   
;;;1489   //modbus_registers[
;;;1490     */
;;;1491   
;;;1492   if(prot==MODBUS_RTU_PROT)
;;;1493   	{
;;;1494   	modbus_tx_buff[0]=adr;
;;;1495   	modbus_tx_buff[1]=func;
;;;1496   
;;;1497   	modbus_tx_buff[2]=(char)(reg_quantity*2);
;;;1498   
;;;1499   	mem_copy((signed char*)&modbus_tx_buff[3],(signed char*)&modbus_registers[(reg_adr-1)*2],reg_quantity*2);
000afa  f1a20201          SUB      r2,r2,#1
000afe  4ef9              LDR      r6,|L1.3812|
000b00  eb000042          ADD      r0,r0,r2,LSL #1
000b04  ea4f0245          LSL      r2,r5,#1              ;1497
000b08  b14b              CBZ      r3,|L1.2846|
;;;1500   
;;;1501   	crc_temp=CRC16_2(modbus_tx_buff,(reg_quantity*2)+3);
;;;1502   
;;;1503   	modbus_tx_buff[3+(reg_quantity*2)]=(char)crc_temp;
;;;1504   	modbus_tx_buff[4+(reg_quantity*2)]=crc_temp>>8;
;;;1505   
;;;1506   	for (i=0;i<(5+(reg_quantity*2));i++)
;;;1507   		{
;;;1508   		putchar0(modbus_tx_buff[i]);
;;;1509   		}
;;;1510   	for (i=0;i<(5+(reg_quantity*2));i++)
;;;1511   		{
;;;1512   		putchar_sc16is700(modbus_tx_buff[i]);
;;;1513   		}
;;;1514   	}
;;;1515   else if(prot==MODBUS_TCP_PROT)
000b0a  2b01              CMP      r3,#1
000b0c  d105              BNE      |L1.2842|
;;;1516   	{
;;;1517   	mem_copy((signed char*)modbus_tx_buff,(signed char*)&modbus_registers[(reg_adr-1)*2],reg_quantity*2);
000b0e  4601              MOV      r1,r0
000b10  4630              MOV      r0,r6
000b12  f7fffffe          BL       mem_copy
;;;1518   	modbus_tcp_out_ptr=(signed char*)modbus_tx_buff;
000b16  48f4              LDR      r0,|L1.3816|
000b18  6006              STR      r6,[r0,#0]  ; modbus_tcp_out_ptr
                  |L1.2842|
;;;1519   	}
;;;1520   }
000b1a  b07d              ADD      sp,sp,#0x1f4
000b1c  bdf0              POP      {r4-r7,pc}
                  |L1.2846|
000b1e  7037              STRB     r7,[r6,#0]            ;1494
000b20  7071              STRB     r1,[r6,#1]            ;1495
000b22  70b2              STRB     r2,[r6,#2]            ;1497
000b24  4601              MOV      r1,r0                 ;1499
000b26  1cf0              ADDS     r0,r6,#3              ;1499
000b28  f7fffffe          BL       mem_copy
000b2c  2003              MOVS     r0,#3                 ;1501
000b2e  eb000045          ADD      r0,r0,r5,LSL #1       ;1501
000b32  b201              SXTH     r1,r0                 ;1501
000b34  48eb              LDR      r0,|L1.3812|
000b36  f7fffffe          BL       CRC16_2
000b3a  eb060145          ADD      r1,r6,r5,LSL #1       ;1503
000b3e  70c8              STRB     r0,[r1,#3]            ;1503
000b40  ea4f2010          LSR      r0,r0,#8              ;1504
000b44  7108              STRB     r0,[r1,#4]            ;1504
000b46  f04f0400          MOV      r4,#0                 ;1506
000b4a  f04f0005          MOV      r0,#5                 ;1506
000b4e  eb000545          ADD      r5,r0,r5,LSL #1       ;1506
000b52  e005              B        |L1.2912|
                  |L1.2900|
000b54  5d30              LDRB     r0,[r6,r4]            ;1508
000b56  f7fffffe          BL       putchar0
000b5a  f1040401          ADD      r4,r4,#1              ;1506
000b5e  b2e4              UXTB     r4,r4                 ;1506
                  |L1.2912|
000b60  42a5              CMP      r5,r4                 ;1506
000b62  d8f7              BHI      |L1.2900|
000b64  f04f0400          MOV      r4,#0                 ;1510
000b68  e005              B        |L1.2934|
                  |L1.2922|
000b6a  5d30              LDRB     r0,[r6,r4]            ;1512
000b6c  f7fffffe          BL       putchar_sc16is700
000b70  f1040401          ADD      r4,r4,#1              ;1510
000b74  b2e4              UXTB     r4,r4                 ;1510
                  |L1.2934|
000b76  42a5              CMP      r5,r4                 ;1510
000b78  d8f7              BHI      |L1.2922|
000b7a  e7ce              B        |L1.2842|
;;;1521   
                          ENDP

                  modbus_in PROC
;;;258    //-----------------------------------------------
;;;259    void modbus_in(void)
000b7c  e92d4ff0          PUSH     {r4-r11,lr}
;;;260    {
000b80  b089              SUB      sp,sp,#0x24
;;;261    short crc16_calculated;		//вычисляемая из принятых данных CRC
;;;262    short crc16_incapsulated;	//встроеннная в посылку CRC
;;;263    unsigned short modbus_rx_arg0;		//встроенный в посылку первый аргумент
;;;264    unsigned short modbus_rx_arg1;		//встроенный в посылку второй аргумент
;;;265    //unsigned short modbus_rx_arg2;		//встроенный в посылку третий аргумент
;;;266    //unsigned short modbus_rx_arg3;		//встроенный в посылку четвертый аргумент
;;;267    unsigned char modbus_func;			//встроенный в посылку код функции
;;;268    
;;;269    
;;;270    
;;;271    mem_copy(modbus_an_buffer,modbus_rx_buffer,modbus_rx_buffer_ptr);
000b82  4cda              LDR      r4,|L1.3820|
000b84  49d7              LDR      r1,|L1.3812|
000b86  393c              SUBS     r1,r1,#0x3c
000b88  7862              LDRB     r2,[r4,#1]  ; modbus_rx_buffer_ptr
000b8a  f101001e          ADD      r0,r1,#0x1e
000b8e  f7fffffe          BL       mem_copy
;;;272    modbus_rx_counter=modbus_rx_buffer_ptr;
000b92  7861              LDRB     r1,[r4,#1]  ; modbus_rx_buffer_ptr
000b94  70a1              STRB     r1,[r4,#2]
;;;273    modbus_rx_buffer_ptr=0;
000b96  f04f0900          MOV      r9,#0
000b9a  f8849001          STRB     r9,[r4,#1]
;;;274    bMODBUS_TIMEOUT=0;
000b9e  f8849000          STRB     r9,[r4,#0]
;;;275    	
;;;276    crc16_calculated  = CRC16_2((char*)modbus_an_buffer, modbus_rx_counter-2);
000ba2  48d0              LDR      r0,|L1.3812|
000ba4  f1a10102          SUB      r1,r1,#2
000ba8  f1a0001e          SUB      r0,r0,#0x1e
000bac  f7fffffe          BL       CRC16_2
000bb0  fa0ffa80          SXTH     r10,r0
;;;277    crc16_incapsulated = *((short*)&modbus_an_buffer[modbus_rx_counter-2]);
000bb4  48cb              LDR      r0,|L1.3812|
000bb6  78a1              LDRB     r1,[r4,#2]  ; modbus_rx_counter
000bb8  381e              SUBS     r0,r0,#0x1e
000bba  eb000201          ADD      r2,r0,r1
000bbe  f932bc02          LDRSH    r11,[r2,#-2]
;;;278    
;;;279    modbus_plazma1=modbus_rx_counter;
000bc2  80e1              STRH     r1,[r4,#6]
;;;280    modbus_plazma2=crc16_calculated;
000bc4  f8a4a008          STRH     r10,[r4,#8]
;;;281    modbus_plazma3=crc16_incapsulated;
000bc8  f8a4b00a          STRH     r11,[r4,#0xa]
;;;282    
;;;283    modbus_func=modbus_an_buffer[1];
000bcc  7846              LDRB     r6,[r0,#1]  ; modbus_an_buffer
;;;284    modbus_rx_arg0=(((unsigned short)modbus_an_buffer[2])*((unsigned short)256))+((unsigned short)modbus_an_buffer[3]);
000bce  78c1              LDRB     r1,[r0,#3]  ; modbus_an_buffer
000bd0  7882              LDRB     r2,[r0,#2]  ; modbus_an_buffer
000bd2  eb012302          ADD      r3,r1,r2,LSL #8
000bd6  b29d              UXTH     r5,r3
;;;285    modbus_rx_arg1=(((unsigned short)modbus_an_buffer[4])*((unsigned short)256))+((unsigned short)modbus_an_buffer[5]);
000bd8  7943              LDRB     r3,[r0,#5]  ; modbus_an_buffer
000bda  7904              LDRB     r4,[r0,#4]  ; modbus_an_buffer
000bdc  eb032304          ADD      r3,r3,r4,LSL #8
000be0  b29c              UXTH     r4,r3
;;;286    //modbus_rx_arg2=(((unsigned short)modbus_an_buffer[6])*((unsigned short)256))+((unsigned short)modbus_an_buffer[7]);
;;;287    //modbus_rx_arg3=(((unsigned short)modbus_an_buffer[8])*((unsigned short)256))+((unsigned short)modbus_an_buffer[9]);
;;;288    
;;;289    //#define IPS_CURR_AVG_MODBUS_ADRESS	1
;;;290    
;;;291    
;;;292    if(modbus_an_buffer[0]=='r')
000be2  7800              LDRB     r0,[r0,#0]  ; modbus_an_buffer
000be4  2872              CMP      r0,#0x72
000be6  d17e              BNE      |L1.3302|
;;;293    	{
;;;294    	pvlk=1;
000be8  4fc1              LDR      r7,|L1.3824|
000bea  f04f0001          MOV      r0,#1
000bee  8038              STRH     r0,[r7,#0]
;;;295    	if(modbus_an_buffer[1]=='e')
000bf0  f8df82f0          LDR      r8,|L1.3812|
000bf4  2e65              CMP      r6,#0x65
000bf6  f1a8081e          SUB      r8,r8,#0x1e
000bfa  d174              BNE      |L1.3302|
;;;296    		{
;;;297    		pvlk=2;
000bfc  f04f0002          MOV      r0,#2
000c00  8038              STRH     r0,[r7,#0]
;;;298    		if(modbus_an_buffer[2]=='a')
000c02  2a61              CMP      r2,#0x61
000c04  d16f              BNE      |L1.3302|
;;;299    			{
;;;300    			pvlk=3;
000c06  f04f0003          MOV      r0,#3
000c0a  8038              STRH     r0,[r7,#0]
;;;301    			if(modbus_an_buffer[3]=='d')
000c0c  2964              CMP      r1,#0x64
000c0e  d16a              BNE      |L1.3302|
;;;302    				{
;;;303    				pvlk=4;
000c10  f04f0004          MOV      r0,#4
000c14  8038              STRH     r0,[r7,#0]
;;;304    				if(modbus_an_buffer[6]==crc_87(modbus_an_buffer,6))
000c16  f04f0106          MOV      r1,#6
000c1a  4640              MOV      r0,r8
000c1c  f7fffffe          BL       crc_87
000c20  f8981006          LDRB     r1,[r8,#6]  ; modbus_an_buffer
000c24  4288              CMP      r0,r1
000c26  d15e              BNE      |L1.3302|
;;;305    					{
;;;306    					pvlk=5;
000c28  f04f0005          MOV      r0,#5
000c2c  8038              STRH     r0,[r7,#0]
;;;307    					if(modbus_an_buffer[7]==crc_95(modbus_an_buffer,6))
000c2e  f04f0106          MOV      r1,#6
000c32  4640              MOV      r0,r8
000c34  f7fffffe          BL       crc_95
000c38  f8981007          LDRB     r1,[r8,#7]  ; modbus_an_buffer
000c3c  4288              CMP      r0,r1
000c3e  d152              BNE      |L1.3302|
;;;308    						{
;;;309    						pvlk=6;	
;;;310    
;;;311    							{
;;;312    							unsigned short ptr;
;;;313    							unsigned long data1,data2;
;;;314    							char temp_out[20];
;;;315    							pvlk++;
000c40  f04f0007          MOV      r0,#7
000c44  8038              STRH     r0,[r7,#0]
;;;316    							ptr=modbus_an_buffer[4]+(modbus_an_buffer[5]*256U);
000c46  f8980004          LDRB     r0,[r8,#4]  ; modbus_an_buffer
000c4a  f8981005          LDRB     r1,[r8,#5]  ; modbus_an_buffer
000c4e  eb002001          ADD      r0,r0,r1,LSL #8
000c52  b280              UXTH     r0,r0
000c54  4607              MOV      r7,r0
000c56  9008              STR      r0,[sp,#0x20]
;;;317    							data1=lc640_read_long(ptr);
000c58  4638              MOV      r0,r7
000c5a  f7fffffe          BL       lc640_read_long
000c5e  9007              STR      r0,[sp,#0x1c]
;;;318    							data2=lc640_read_long(ptr+4);
000c60  1d38              ADDS     r0,r7,#4
000c62  f7fffffe          BL       lc640_read_long
000c66  9006              STR      r0,[sp,#0x18]
;;;319    							temp_out[0]='r';
000c68  f04f0072          MOV      r0,#0x72
000c6c  f88d0004          STRB     r0,[sp,#4]
;;;320    							temp_out[1]='e';
000c70  4630              MOV      r0,r6
000c72  f88d0005          STRB     r0,[sp,#5]
;;;321    							temp_out[2]='a';
000c76  f04f0061          MOV      r0,#0x61
000c7a  f88d0006          STRB     r0,[sp,#6]
;;;322    							temp_out[3]='d';
000c7e  f04f0064          MOV      r0,#0x64
000c82  f88d0007          STRB     r0,[sp,#7]
;;;323    							temp_out[4]=*((char*)&ptr);
000c86  f89d0020          LDRB     r0,[sp,#0x20]
000c8a  f88d0008          STRB     r0,[sp,#8]
;;;324    							temp_out[5]=*(((char*)&ptr)+1);	
000c8e  f89d0021          LDRB     r0,[sp,#0x21]
000c92  f88d0009          STRB     r0,[sp,#9]
;;;325    							temp_out[6]=*((char*)&data1);
000c96  f89d001c          LDRB     r0,[sp,#0x1c]
000c9a  f88d000a          STRB     r0,[sp,#0xa]
;;;326    							temp_out[7]=*(((char*)&data1)+1);		
000c9e  f89d001d          LDRB     r0,[sp,#0x1d]
000ca2  f88d000b          STRB     r0,[sp,#0xb]
;;;327    							temp_out[8]=*(((char*)&data1)+2);	
000ca6  f89d001e          LDRB     r0,[sp,#0x1e]
000caa  f88d000c          STRB     r0,[sp,#0xc]
;;;328    							temp_out[9]=*(((char*)&data1)+3);		
000cae  f89d001f          LDRB     r0,[sp,#0x1f]
000cb2  f88d000d          STRB     r0,[sp,#0xd]
;;;329    							temp_out[10]=*((char*)&data2);
000cb6  f89d0018          LDRB     r0,[sp,#0x18]
000cba  f88d000e          STRB     r0,[sp,#0xe]
;;;330    							temp_out[11]=*(((char*)&data2)+1);		
000cbe  f89d0019          LDRB     r0,[sp,#0x19]
000cc2  f88d000f          STRB     r0,[sp,#0xf]
;;;331    							temp_out[12]=*(((char*)&data2)+2);	
000cc6  f89d001a          LDRB     r0,[sp,#0x1a]
000cca  f88d0010          STRB     r0,[sp,#0x10]
;;;332    							temp_out[13]=*(((char*)&data2)+3);	
000cce  f89d001b          LDRB     r0,[sp,#0x1b]
000cd2  f88d0011          STRB     r0,[sp,#0x11]
;;;333    							temp_out[14]=crc_87(temp_out,14);	
000cd6  f04f010e          MOV      r1,#0xe
000cda  a801              ADD      r0,sp,#4
000cdc  f7fffffe          BL       crc_87
000ce0  f88d0012          STRB     r0,[sp,#0x12]
;;;334    							temp_out[15]=crc_95(temp_out,14);			
000ce4  e000              B        |L1.3304|
                  |L1.3302|
000ce6  e02c              B        |L1.3394|
                  |L1.3304|
000ce8  210e              MOVS     r1,#0xe
000cea  a801              ADD      r0,sp,#4
000cec  f7fffffe          BL       crc_95
000cf0  f88d0013          STRB     r0,[sp,#0x13]
;;;335    							
;;;336    							temp_out[17]=0;
000cf4  f88d9015          STRB     r9,[sp,#0x15]
;;;337    							for (i=0;i<16;i++)
000cf8  4f7e              LDR      r7,|L1.3828|
000cfa  f8879000          STRB     r9,[r7,#0]
000cfe  f10d0804          ADD      r8,sp,#4              ;314
                  |L1.3330|
;;;338    								{
;;;339    								putchar_sc16is700(temp_out[i]);
000d02  7838              LDRB     r0,[r7,#0]  ; i
000d04  f8180000          LDRB     r0,[r8,r0]
000d08  f7fffffe          BL       putchar_sc16is700
;;;340    								temp_out[17]^=temp_out[i];
000d0c  7838              LDRB     r0,[r7,#0]  ; i
000d0e  f89d1015          LDRB     r1,[sp,#0x15]
000d12  f8182000          LDRB     r2,[r8,r0]
000d16  ea810102          EOR      r1,r1,r2
000d1a  f88d1015          STRB     r1,[sp,#0x15]
000d1e  f1000001          ADD      r0,r0,#1              ;337
000d22  b2c0              UXTB     r0,r0                 ;337
000d24  7038              STRB     r0,[r7,#0]            ;337
000d26  2810              CMP      r0,#0x10              ;337
000d28  d3eb              BCC      |L1.3330|
;;;341    								}
;;;342    							putchar_sc16is700(16);
000d2a  2010              MOVS     r0,#0x10
000d2c  f7fffffe          BL       putchar_sc16is700
;;;343    							putchar_sc16is700(temp_out[17]^16);
000d30  f89d0015          LDRB     r0,[sp,#0x15]
000d34  f0800010          EOR      r0,r0,#0x10
000d38  f7fffffe          BL       putchar_sc16is700
;;;344    							putchar_sc16is700(0x0a);
000d3c  200a              MOVS     r0,#0xa
000d3e  f7fffffe          BL       putchar_sc16is700
                  |L1.3394|
;;;345    							}
;;;346    						}
;;;347    					}
;;;348    				}
;;;349    			} 
;;;350    		}	 
;;;351    	} 
;;;352    
;;;353    if(modbus_an_buffer[0]=='w')
000d42  4868              LDR      r0,|L1.3812|
000d44  381e              SUBS     r0,r0,#0x1e
000d46  7800              LDRB     r0,[r0,#0]  ; modbus_an_buffer
000d48  2877              CMP      r0,#0x77
000d4a  d17e              BNE      |L1.3658|
;;;354    	{
;;;355    //	pvlk=1;
;;;356    	if(modbus_an_buffer[1]=='r')
000d4c  4f65              LDR      r7,|L1.3812|
000d4e  3f1e              SUBS     r7,r7,#0x1e
000d50  7878              LDRB     r0,[r7,#1]  ; modbus_an_buffer
000d52  2872              CMP      r0,#0x72
000d54  d179              BNE      |L1.3658|
;;;357    		{
;;;358    //		pvlk=2;
;;;359    		if(modbus_an_buffer[2]=='i')
000d56  78b8              LDRB     r0,[r7,#2]  ; modbus_an_buffer
000d58  2869              CMP      r0,#0x69
000d5a  d176              BNE      |L1.3658|
;;;360    			{
;;;361    //			pvlk=3;
;;;362    			if(modbus_an_buffer[3]=='t')
000d5c  78f8              LDRB     r0,[r7,#3]  ; modbus_an_buffer
000d5e  2874              CMP      r0,#0x74
000d60  d173              BNE      |L1.3658|
;;;363    				{
;;;364    //				pvlk=4;
;;;365    				if(modbus_an_buffer[4]=='e')
000d62  7938              LDRB     r0,[r7,#4]  ; modbus_an_buffer
000d64  2865              CMP      r0,#0x65
000d66  d170              BNE      |L1.3658|
;;;366    					{
;;;367    //					pvlk=5;
;;;368    					if(modbus_an_buffer[15]==crc_87(modbus_an_buffer,15))
000d68  210f              MOVS     r1,#0xf
000d6a  4638              MOV      r0,r7
000d6c  f7fffffe          BL       crc_87
000d70  7bf9              LDRB     r1,[r7,#0xf]  ; modbus_an_buffer
000d72  4288              CMP      r0,r1
000d74  d169              BNE      |L1.3658|
;;;369    						{
;;;370    //						pvlk=6;
;;;371    						if(modbus_an_buffer[16]==crc_95(modbus_an_buffer,15))
000d76  210f              MOVS     r1,#0xf
000d78  4638              MOV      r0,r7
000d7a  f7fffffe          BL       crc_95
000d7e  7c39              LDRB     r1,[r7,#0x10]  ; modbus_an_buffer
000d80  4288              CMP      r0,r1
000d82  d179              BNE      |L1.3704|
;;;372    
;;;373    							{
;;;374    							unsigned short ptr;
;;;375    							unsigned long data1,data2;
;;;376    							char temp_out[20];
;;;377    //							pvlk=7;
;;;378    							ptr=modbus_an_buffer[5]+(modbus_an_buffer[6]*256U);
000d84  7978              LDRB     r0,[r7,#5]  ; modbus_an_buffer
000d86  79b9              LDRB     r1,[r7,#6]  ; modbus_an_buffer
000d88  eb002001          ADD      r0,r0,r1,LSL #8
000d8c  b280              UXTH     r0,r0
000d8e  4680              MOV      r8,r0
000d90  9008              STR      r0,[sp,#0x20]
;;;379    							*((char*)&data1)=modbus_an_buffer[7];
000d92  79f8              LDRB     r0,[r7,#7]  ; modbus_an_buffer
000d94  f88d001c          STRB     r0,[sp,#0x1c]
;;;380    							*(((char*)&data1)+1)=modbus_an_buffer[8];
000d98  7a38              LDRB     r0,[r7,#8]  ; modbus_an_buffer
000d9a  f88d001d          STRB     r0,[sp,#0x1d]
;;;381    							*(((char*)&data1)+2)=modbus_an_buffer[9];
000d9e  7a78              LDRB     r0,[r7,#9]  ; modbus_an_buffer
000da0  f88d001e          STRB     r0,[sp,#0x1e]
;;;382    							*(((char*)&data1)+3)=modbus_an_buffer[10];
000da4  7ab8              LDRB     r0,[r7,#0xa]  ; modbus_an_buffer
000da6  f88d001f          STRB     r0,[sp,#0x1f]
;;;383    							*((char*)&data2)=modbus_an_buffer[11];
000daa  7af8              LDRB     r0,[r7,#0xb]  ; modbus_an_buffer
000dac  f88d0018          STRB     r0,[sp,#0x18]
;;;384    							*(((char*)&data2)+1)=modbus_an_buffer[12];
000db0  7b38              LDRB     r0,[r7,#0xc]  ; modbus_an_buffer
000db2  f88d0019          STRB     r0,[sp,#0x19]
;;;385    							*(((char*)&data2)+2)=modbus_an_buffer[13];
000db6  7b78              LDRB     r0,[r7,#0xd]  ; modbus_an_buffer
000db8  f88d001a          STRB     r0,[sp,#0x1a]
;;;386    							*(((char*)&data2)+3)=modbus_an_buffer[14];	
000dbc  7bb8              LDRB     r0,[r7,#0xe]  ; modbus_an_buffer
000dbe  f88d001b          STRB     r0,[sp,#0x1b]
;;;387    							lc640_write_long(ptr,data1);
000dc2  4640              MOV      r0,r8
000dc4  9907              LDR      r1,[sp,#0x1c]
000dc6  f7fffffe          BL       lc640_write_long
;;;388    							lc640_write_long(ptr+4,data2);
000dca  f1080004          ADD      r0,r8,#4
000dce  9906              LDR      r1,[sp,#0x18]
000dd0  f7fffffe          BL       lc640_write_long
;;;389    							
;;;390    							//data1=lc640_read_long(ptr);
;;;391    							//data2=lc640_read_long(ptr+4);
;;;392    							temp_out[0]='w';
000dd4  f04f0077          MOV      r0,#0x77
000dd8  f88d0004          STRB     r0,[sp,#4]
;;;393    							temp_out[1]='r';
000ddc  f04f0072          MOV      r0,#0x72
000de0  f88d0005          STRB     r0,[sp,#5]
;;;394    							temp_out[2]='i';
000de4  f04f0069          MOV      r0,#0x69
000de8  f88d0006          STRB     r0,[sp,#6]
;;;395    							temp_out[3]='t';
000dec  f04f0074          MOV      r0,#0x74
000df0  f88d0007          STRB     r0,[sp,#7]
;;;396    							temp_out[4]='e';
000df4  f04f0065          MOV      r0,#0x65
000df8  f88d0008          STRB     r0,[sp,#8]
;;;397    							temp_out[5]=*((char*)&ptr);
000dfc  f89d0020          LDRB     r0,[sp,#0x20]
000e00  f88d0009          STRB     r0,[sp,#9]
;;;398    							temp_out[6]=*(((char*)&ptr)+1);	
000e04  f89d0021          LDRB     r0,[sp,#0x21]
000e08  f88d000a          STRB     r0,[sp,#0xa]
;;;399    						
;;;400    							temp_out[7]=crc_87(temp_out,7);	
000e0c  f04f0107          MOV      r1,#7
000e10  a801              ADD      r0,sp,#4
000e12  f7fffffe          BL       crc_87
000e16  f88d000b          STRB     r0,[sp,#0xb]
;;;401    							temp_out[8]=crc_95(temp_out,7);			
000e1a  2107              MOVS     r1,#7
000e1c  a801              ADD      r0,sp,#4
000e1e  f7fffffe          BL       crc_95
000e22  f88d000c          STRB     r0,[sp,#0xc]
;;;402    							
;;;403    							temp_out[10]=0;
000e26  f88d900e          STRB     r9,[sp,#0xe]
;;;404    							for (i=0;i<9;i++)
000e2a  4f32              LDR      r7,|L1.3828|
000e2c  f8879000          STRB     r9,[r7,#0]
000e30  f10d0804          ADD      r8,sp,#4              ;376
                  |L1.3636|
;;;405    								{
;;;406    								putchar_sc16is700(temp_out[i]);
000e34  7838              LDRB     r0,[r7,#0]  ; i
000e36  f8180000          LDRB     r0,[r8,r0]
000e3a  f7fffffe          BL       putchar_sc16is700
;;;407    								temp_out[10]^=temp_out[i];
000e3e  7838              LDRB     r0,[r7,#0]  ; i
000e40  f89d100e          LDRB     r1,[sp,#0xe]
000e44  f8182000          LDRB     r2,[r8,r0]
000e48  e000              B        |L1.3660|
                  |L1.3658|
000e4a  e015              B        |L1.3704|
                  |L1.3660|
000e4c  ea810102          EOR      r1,r1,r2
000e50  f88d100e          STRB     r1,[sp,#0xe]
000e54  f1000001          ADD      r0,r0,#1              ;404
000e58  b2c0              UXTB     r0,r0                 ;404
000e5a  7038              STRB     r0,[r7,#0]            ;404
000e5c  2809              CMP      r0,#9                 ;404
000e5e  d3e9              BCC      |L1.3636|
;;;408    								}
;;;409    							putchar_sc16is700(9);
000e60  2009              MOVS     r0,#9
000e62  f7fffffe          BL       putchar_sc16is700
;;;410    							putchar_sc16is700(temp_out[10]^9);
000e66  f89d000e          LDRB     r0,[sp,#0xe]
000e6a  f0800009          EOR      r0,r0,#9
000e6e  f7fffffe          BL       putchar_sc16is700
;;;411    							putchar_sc16is700(0x0a);
000e72  200a              MOVS     r0,#0xa
000e74  f7fffffe          BL       putchar_sc16is700
                  |L1.3704|
;;;412    							}
;;;413    						}
;;;414    					}
;;;415    				}
;;;416    		   	}
;;;417    		}
;;;418    	}
;;;419    
;;;420    if(crc16_calculated==crc16_incapsulated)
000e78  45da              CMP      r10,r11
000e7a  d12f              BNE      |L1.3804|
;;;421    	{
;;;422    	ica_plazma[4]++;
000e7c  491e              LDR      r1,|L1.3832|
000e7e  7908              LDRB     r0,[r1,#4]  ; ica_plazma
000e80  f1000001          ADD      r0,r0,#1
000e84  7108              STRB     r0,[r1,#4]
;;;423     	if(modbus_an_buffer[0]==MODBUS_ADRESS)
000e86  4a17              LDR      r2,|L1.3812|
000e88  f8df8070          LDR      r8,|L1.3836|
000e8c  f1a2021e          SUB      r2,r2,#0x1e
000e90  7810              LDRB     r0,[r2,#0]  ; modbus_an_buffer
000e92  f9b87000          LDRSH    r7,[r8,#0]  ; MODBUS_ADRESS
000e96  42b8              CMP      r0,r7
000e98  d17d              BNE      |L1.3990|
;;;424    		{
;;;425    		if(modbus_func==3)		//чтение произвольного кол-ва регистров хранения
000e9a  2e03              CMP      r6,#3
000e9c  d10c              BNE      |L1.3768|
;;;426    			{
;;;427    			modbus_plazma++;
000e9e  4913              LDR      r1,|L1.3820|
000ea0  8888              LDRH     r0,[r1,#4]  ; modbus_plazma
000ea2  f1000001          ADD      r0,r0,#1
000ea6  8088              STRH     r0,[r1,#4]
;;;428    			modbus_hold_registers_transmit(MODBUS_ADRESS,modbus_func,modbus_rx_arg0,modbus_rx_arg1,MODBUS_RTU_PROT);
000ea8  4623              MOV      r3,r4
000eaa  462a              MOV      r2,r5
000eac  4631              MOV      r1,r6
000eae  b2f8              UXTB     r0,r7
000eb0  f8cd9000          STR      r9,[sp,#0]
000eb4  f7fffffe          BL       modbus_hold_registers_transmit
                  |L1.3768|
;;;429    			}
;;;430    
;;;431    		if(modbus_func==4)		//чтение произвольного кол-ва регистров	входов
000eb8  2e04              CMP      r6,#4
000eba  d005              BEQ      |L1.3784|
;;;432    			{
;;;433    			modbus_input_registers_transmit(MODBUS_ADRESS,modbus_func,modbus_rx_arg0,modbus_rx_arg1,MODBUS_RTU_PROT);
;;;434    			}
;;;435    
;;;436    		else if(modbus_func==6) 	//запись регистров хранения
000ebc  2e06              CMP      r6,#6
000ebe  d10d              BNE      |L1.3804|
;;;437    			{
;;;438    			if(modbus_rx_arg0==11)		//Установка времени 
;;;439    				{
;;;440    				LPC_RTC->YEAR=(uint16_t)modbus_rx_arg1;
000ec0  480f              LDR      r0,|L1.3840|
000ec2  2d0b              CMP      r5,#0xb               ;438
000ec4  d01e              BEQ      |L1.3844|
000ec6  e01e              B        |L1.3846|
                  |L1.3784|
000ec8  f8cd9000          STR      r9,[sp,#0]            ;433
000ecc  f8b80000          LDRH     r0,[r8,#0]            ;433  ; MODBUS_ADRESS
000ed0  4623              MOV      r3,r4                 ;433
000ed2  462a              MOV      r2,r5                 ;433
000ed4  4631              MOV      r1,r6                 ;433
000ed6  b2c0              UXTB     r0,r0                 ;433
000ed8  f7fffffe          BL       modbus_input_registers_transmit
                  |L1.3804|
;;;441    				}
;;;442    			if(modbus_rx_arg0==12)		//Установка времени 
;;;443    				{
;;;444    				LPC_RTC->MONTH=(uint16_t)modbus_rx_arg1;
;;;445    				}
;;;446    			if(modbus_rx_arg0==13)		//Установка времени 
;;;447    				{
;;;448    				LPC_RTC->DOM=(uint16_t)modbus_rx_arg1;
;;;449    				}
;;;450    			if(modbus_rx_arg0==14)		//Установка времени 
;;;451    				{
;;;452    				LPC_RTC->HOUR=(uint16_t)modbus_rx_arg1;
;;;453    				}
;;;454    			if(modbus_rx_arg0==15)		//Установка времени 
;;;455    				{
;;;456    				LPC_RTC->MIN=(uint16_t)modbus_rx_arg1;
;;;457    				}
;;;458    			if(modbus_rx_arg0==16)		//Установка времени 
;;;459    				{
;;;460    				LPC_RTC->SEC=(uint16_t)modbus_rx_arg1;
;;;461    				}
;;;462    			if(modbus_rx_arg0==20)		//ток стабилизации для режима стабилизации тока
;;;463    				{
;;;464    				if((modbus_rx_arg1>0)&&(modbus_rx_arg1<=18))
;;;465    				lc640_write_int(EE_NUMIST,modbus_rx_arg1);  
;;;466    				}
;;;467    			if(modbus_rx_arg0==21)		//ток стабилизации для режима стабилизации тока
;;;468    				{
;;;469    				if((modbus_rx_arg1==0)||(modbus_rx_arg1==1))
;;;470    				lc640_write_int(EE_PAR,modbus_rx_arg1);  
;;;471    				}
;;;472    			if(modbus_rx_arg0==22)		//ток стабилизации для режима стабилизации тока
;;;473    				{
;;;474    				if((modbus_rx_arg1==0)||(modbus_rx_arg1==1))
;;;475    				lc640_write_int(EE_ZV_ON,modbus_rx_arg1);  
;;;476    				}
;;;477    			if(modbus_rx_arg0==23)		//ток стабилизации для режима стабилизации тока
;;;478    				{
;;;479    				if((modbus_rx_arg1==0)||(modbus_rx_arg1==1))
;;;480    				lc640_write_int(EE_TERMOKOMP,modbus_rx_arg1);  
;;;481    				}
;;;482    			if(modbus_rx_arg0==24)		//ток стабилизации для режима стабилизации тока
;;;483    				{
;;;484    				if(/*(modbus_rx_arg1>=0)||*/(modbus_rx_arg1<=20))
;;;485    				lc640_write_int(EE_UBM_AV,modbus_rx_arg1);  
;;;486    				}
;;;487    
;;;488    
;;;489    			if(modbus_rx_arg0==30)		//напряжение стабилизации для режима стабилизации напряжения
;;;490    				{
;;;491    				/*if(modbus_rx_arg1<0)TBAT=0;
;;;492    				else */if((modbus_rx_arg1>0)&&(modbus_rx_arg1<=5))modbus_rx_arg1=0;
;;;493    				else if(modbus_rx_arg1>=60)TBAT=60;
;;;494    				else TBAT=modbus_rx_arg1;
;;;495    				lc640_write_int(EE_TBAT,TBAT);
;;;496    
;;;497    				main_kb_cnt=(TBAT*60)-20;
;;;498    	     		}
;;;499    			if(modbus_rx_arg0==31)		//
;;;500    				{
;;;501    				lc640_write_int(EE_UMAX,modbus_rx_arg1);
;;;502    	     		}
;;;503    			if(modbus_rx_arg0==32)		//
;;;504    				{
;;;505    				//lc640_write_int(EE_DU,UB20-modbus_rx_arg1);
;;;506    	     		}
;;;507    			if(modbus_rx_arg0==33)		//
;;;508    				{
;;;509    				//lc640_write_int(EE_UB0,modbus_rx_arg1);
;;;510    	     		}
;;;511    			if(modbus_rx_arg0==34)		//
;;;512    				{
;;;513    				//lc640_write_int(EE_UB20,modbus_rx_arg1);
;;;514    	     		}
;;;515    			if(modbus_rx_arg0==35)		//
;;;516    				{
;;;517    				lc640_write_int(EE_USIGN,modbus_rx_arg1);
;;;518    	     		}
;;;519    			if(modbus_rx_arg0==36)		//
;;;520    				{
;;;521    				lc640_write_int(EE_UMN,modbus_rx_arg1);
;;;522    	     		}
;;;523    			if(modbus_rx_arg0==37)		//
;;;524    				{
;;;525    				lc640_write_int(EE_U0B,modbus_rx_arg1);
;;;526    	     		}
;;;527    			if(modbus_rx_arg0==38)		//
;;;528    				{
;;;529    				lc640_write_int(EE_IKB,modbus_rx_arg1);
;;;530    	     		}
;;;531    			if(modbus_rx_arg0==39)		//
;;;532    				{
;;;533    				lc640_write_int(EE_IZMAX,modbus_rx_arg1);
;;;534    	     		}
;;;535    			if(modbus_rx_arg0==40)		//
;;;536    				{
;;;537    				lc640_write_int(EE_IMAX,modbus_rx_arg1);
;;;538    	     		}
;;;539    			if(modbus_rx_arg0==41)		//
;;;540    				{
;;;541    				lc640_write_int(EE_IMIN,modbus_rx_arg1);
;;;542    	     		}
;;;543    			if(modbus_rx_arg0==42)		//
;;;544    				{
;;;545    				//lc640_write_int(EE_UVZ,modbus_rx_arg1);
;;;546    	     		}
;;;547    			if(modbus_rx_arg0==43)		//
;;;548    				{
;;;549    				lc640_write_int(EE_TZAS,modbus_rx_arg1);
;;;550    	     		}
;;;551    			if(modbus_rx_arg0==44)		//
;;;552    				{
;;;553    				lc640_write_int(EE_TMAX,modbus_rx_arg1);
;;;554    	     		}
;;;555    			if(modbus_rx_arg0==45)		//
;;;556    				{
;;;557    				lc640_write_int(EE_TSIGN,modbus_rx_arg1);
;;;558    	     		}
;;;559    			if(modbus_rx_arg0==46)		//
;;;560    				{
;;;561    				lc640_write_int(EE_TBATMAX,modbus_rx_arg1);
;;;562    	     		}
;;;563    			if(modbus_rx_arg0==47)		//
;;;564    				{
;;;565    				lc640_write_int(EE_TBATSIGN,modbus_rx_arg1);
;;;566    	     		}
;;;567    			if(modbus_rx_arg0==48)		//
;;;568    				{
;;;569    				lc640_write_int(EE_SPEED_CHRG_CURR,modbus_rx_arg1);
;;;570    	     		}
;;;571    			if(modbus_rx_arg0==49)		//
;;;572    				{
;;;573    				lc640_write_int(EE_SPEED_CHRG_VOLT,modbus_rx_arg1);
;;;574    	     		}
;;;575    			if(modbus_rx_arg0==50)		//
;;;576    				{
;;;577    				lc640_write_int(EE_SPEED_CHRG_TIME,modbus_rx_arg1);
;;;578    	     		}
;;;579    			if(modbus_rx_arg0==51)		//
;;;580    				{
;;;581    				lc640_write_int(EE_U_OUT_KONTR_MAX,modbus_rx_arg1);
;;;582    	     		}
;;;583    			if(modbus_rx_arg0==52)		//
;;;584    				{
;;;585    				lc640_write_int(EE_U_OUT_KONTR_MIN,modbus_rx_arg1);
;;;586    	     		}
;;;587    			if(modbus_rx_arg0==53)		//
;;;588    				{
;;;589    				lc640_write_int(EE_U_OUT_KONTR_DELAY,modbus_rx_arg1);
;;;590    	     		}
;;;591    
;;;592    			if(modbus_rx_arg0==19)		//вкл/выкл источника напр.
;;;593    				{
;;;594    	/*			if(modbus_rx_arg1==1)
;;;595    					{
;;;596    					if(work_stat!=wsPS)
;;;597    						{
;;;598    						work_stat=wsPS;
;;;599    						time_proc=0;
;;;600    						time_proc_remain=T_PROC_PS;
;;;601    						restart_on_PS();
;;;602    						lc640_write_int(EE_MAIN_MENU_MODE,mmmIN);
;;;603    						}
;;;604    					}
;;;605    				if(modbus_rx_arg1==0)
;;;606    					{
;;;607    					if(work_stat==wsPS)
;;;608    						{
;;;609    						work_stat=wsOFF;
;;;610    						restart_off();
;;;611    						}
;;;612    					} */
;;;613    				}
;;;614    			if(modbus_rx_arg0==20)		//вкл/выкл источника тока
;;;615    				{
;;;616    /*				if(modbus_rx_arg1==1)
;;;617    					{
;;;618    					if(work_stat!=wsGS)
;;;619    						{
;;;620    						work_stat=wsGS;
;;;621    						time_proc=0;
;;;622    						time_proc_remain=T_PROC_GS;
;;;623    						lc640_write_int(EE_MAIN_MENU_MODE,mmmIT);
;;;624    						}
;;;625    					}
;;;626    				if(modbus_rx_arg1==0)
;;;627    					{
;;;628    					if(work_stat==wsGS)
;;;629    						{
;;;630    						work_stat=wsOFF;
;;;631    						restart_off();
;;;632    						}
;;;633    					}*/
;;;634    				}
;;;635    			//modbus_hold_register_transmit(MODBUS_ADRESS,modbus_func,modbus_rx_arg0);
;;;636    			modbus_hold_registers_transmit(MODBUS_ADRESS,modbus_func,modbus_rx_arg0,1,MODBUS_RTU_PROT);
;;;637    			}
;;;638    		} 
;;;639    	else if(modbus_an_buffer[0]==ICA_MODBUS_ADDRESS)
;;;640    		{
;;;641    		ica_plazma[3]++;
;;;642    		if(modbus_func==4)		//чтение произвольного кол-ва регистров	входов
;;;643    			{
;;;644    			ica_plazma[2]++;
;;;645    			if(modbus_an_buffer[2]==2)
;;;646    				{
;;;647    				ica_your_current=(((unsigned short)modbus_an_buffer[3])*((unsigned short)256))+((unsigned short)modbus_an_buffer[4]);
;;;648    				}
;;;649    			}
;;;650    		}
;;;651    	
;;;652    	}
;;;653    
;;;654    
;;;655    }
000edc  b009              ADD      sp,sp,#0x24
000ede  e8bd8ff0          POP      {r4-r11,pc}
000ee2  0000              DCW      0x0000
                  |L1.3812|
                          DCD      ||area_number.4||+0x3c
                  |L1.3816|
                          DCD      modbus_tcp_out_ptr
                  |L1.3820|
                          DCD      ||area_number.8||
                  |L1.3824|
                          DCD      pvlk
                  |L1.3828|
                          DCD      i
                  |L1.3832|
                          DCD      ica_plazma
                  |L1.3836|
                          DCD      MODBUS_ADRESS
                  |L1.3840|
                          DCD      0x40024000
                  |L1.3844|
000f04  8784              STRH     r4,[r0,#0x3c]         ;440
                  |L1.3846|
000f06  2d0c              CMP      r5,#0xc               ;442
000f08  d101              BNE      |L1.3854|
000f0a  f8804038          STRB     r4,[r0,#0x38]         ;444
                  |L1.3854|
000f0e  2d0d              CMP      r5,#0xd               ;446
000f10  d101              BNE      |L1.3862|
000f12  f880402c          STRB     r4,[r0,#0x2c]         ;448
                  |L1.3862|
000f16  2d0e              CMP      r5,#0xe               ;450
000f18  d101              BNE      |L1.3870|
000f1a  f8804028          STRB     r4,[r0,#0x28]         ;452
                  |L1.3870|
000f1e  2d0f              CMP      r5,#0xf               ;454
000f20  d101              BNE      |L1.3878|
000f22  f8804024          STRB     r4,[r0,#0x24]         ;456
                  |L1.3878|
000f26  2d10              CMP      r5,#0x10              ;458
000f28  d101              BNE      |L1.3886|
000f2a  f8804020          STRB     r4,[r0,#0x20]         ;460
                  |L1.3886|
000f2e  2d14              CMP      r5,#0x14              ;462
000f30  d106              BNE      |L1.3904|
000f32  1e60              SUBS     r0,r4,#1              ;464
000f34  2811              CMP      r0,#0x11              ;464
000f36  d803              BHI      |L1.3904|
000f38  b221              SXTH     r1,r4                 ;465
000f3a  2098              MOVS     r0,#0x98              ;465
000f3c  f7fffffe          BL       lc640_write_int
                  |L1.3904|
000f40  2d15              CMP      r5,#0x15              ;467
000f42  d106              BNE      |L1.3922|
000f44  b10c              CBZ      r4,|L1.3914|
000f46  2c01              CMP      r4,#1                 ;469
000f48  d103              BNE      |L1.3922|
                  |L1.3914|
000f4a  b221              SXTH     r1,r4                 ;470
000f4c  20ca              MOVS     r0,#0xca              ;470
000f4e  f7fffffe          BL       lc640_write_int
                  |L1.3922|
000f52  2d16              CMP      r5,#0x16              ;472
000f54  d106              BNE      |L1.3940|
000f56  b10c              CBZ      r4,|L1.3932|
000f58  2c01              CMP      r4,#1                 ;474
000f5a  d103              BNE      |L1.3940|
                  |L1.3932|
000f5c  b221              SXTH     r1,r4                 ;475
000f5e  2086              MOVS     r0,#0x86              ;475
000f60  f7fffffe          BL       lc640_write_int
                  |L1.3940|
000f64  2d17              CMP      r5,#0x17              ;477
000f66  d106              BNE      |L1.3958|
000f68  b10c              CBZ      r4,|L1.3950|
000f6a  2c01              CMP      r4,#1                 ;479
000f6c  d103              BNE      |L1.3958|
                  |L1.3950|
000f6e  b221              SXTH     r1,r4                 ;480
000f70  20f2              MOVS     r0,#0xf2              ;480
000f72  f7fffffe          BL       lc640_write_int
                  |L1.3958|
000f76  2d18              CMP      r5,#0x18              ;482
000f78  d106              BNE      |L1.3976|
000f7a  2c14              CMP      r4,#0x14              ;484
000f7c  d804              BHI      |L1.3976|
000f7e  b221              SXTH     r1,r4                 ;485
000f80  f44f7019          MOV      r0,#0x264             ;485
000f84  f7fffffe          BL       lc640_write_int
                  |L1.3976|
000f88  2d1e              CMP      r5,#0x1e              ;489
000f8a  d11d              BNE      |L1.4040|
000f8c  1e60              SUBS     r0,r4,#1              ;492
000f8e  4f5c              LDR      r7,|L1.4352|
000f90  2804              CMP      r0,#4                 ;492
000f92  d804              BHI      |L1.3998|
000f94  e000              B        |L1.3992|
                  |L1.3990|
000f96  e09a              B        |L1.4302|
                  |L1.3992|
000f98  f04f0400          MOV      r4,#0                 ;492
000f9c  e006              B        |L1.4012|
                  |L1.3998|
000f9e  2c3c              CMP      r4,#0x3c              ;493
000fa0  d303              BCC      |L1.4010|
000fa2  f04f003c          MOV      r0,#0x3c              ;493
000fa6  8038              STRH     r0,[r7,#0]            ;493
000fa8  e000              B        |L1.4012|
                  |L1.4010|
000faa  803c              STRH     r4,[r7,#0]            ;494
                  |L1.4012|
000fac  f9b71000          LDRSH    r1,[r7,#0]            ;495  ; TBAT
000fb0  20c2              MOVS     r0,#0xc2              ;495
000fb2  f7fffffe          BL       lc640_write_int
000fb6  8838              LDRH     r0,[r7,#0]            ;497  ; TBAT
000fb8  f06f0113          MVN      r1,#0x13              ;497
000fbc  ebc01000          RSB      r0,r0,r0,LSL #4       ;497
000fc0  eb010080          ADD      r0,r1,r0,LSL #2       ;497
000fc4  494f              LDR      r1,|L1.4356|
000fc6  8008              STRH     r0,[r1,#0]            ;497
                  |L1.4040|
000fc8  2d1f              CMP      r5,#0x1f              ;499
000fca  d103              BNE      |L1.4052|
000fcc  b221              SXTH     r1,r4                 ;501
000fce  2078              MOVS     r0,#0x78              ;501
000fd0  f7fffffe          BL       lc640_write_int
                  |L1.4052|
000fd4  2d23              CMP      r5,#0x23              ;515
000fd6  d103              BNE      |L1.4064|
000fd8  b221              SXTH     r1,r4                 ;517
000fda  2082              MOVS     r0,#0x82              ;517
000fdc  f7fffffe          BL       lc640_write_int
                  |L1.4064|
000fe0  2d24              CMP      r5,#0x24              ;519
000fe2  d103              BNE      |L1.4076|
000fe4  b221              SXTH     r1,r4                 ;521
000fe6  2084              MOVS     r0,#0x84              ;521
000fe8  f7fffffe          BL       lc640_write_int
                  |L1.4076|
000fec  2d25              CMP      r5,#0x25              ;523
000fee  d103              BNE      |L1.4088|
000ff0  b221              SXTH     r1,r4                 ;525
000ff2  2094              MOVS     r0,#0x94              ;525
000ff4  f7fffffe          BL       lc640_write_int
                  |L1.4088|
000ff8  2d26              CMP      r5,#0x26              ;527
000ffa  d103              BNE      |L1.4100|
000ffc  b221              SXTH     r1,r4                 ;529
000ffe  2088              MOVS     r0,#0x88              ;529
001000  f7fffffe          BL       lc640_write_int
                  |L1.4100|
001004  2d27              CMP      r5,#0x27              ;531
001006  d103              BNE      |L1.4112|
001008  b221              SXTH     r1,r4                 ;533
00100a  2092              MOVS     r0,#0x92              ;533
00100c  f7fffffe          BL       lc640_write_int
                  |L1.4112|
001010  2d28              CMP      r5,#0x28              ;535
001012  d103              BNE      |L1.4124|
001014  b221              SXTH     r1,r4                 ;537
001016  208c              MOVS     r0,#0x8c              ;537
001018  f7fffffe          BL       lc640_write_int
                  |L1.4124|
00101c  2d29              CMP      r5,#0x29              ;539
00101e  d103              BNE      |L1.4136|
001020  b221              SXTH     r1,r4                 ;541
001022  208e              MOVS     r0,#0x8e              ;541
001024  f7fffffe          BL       lc640_write_int
                  |L1.4136|
001028  2d2b              CMP      r5,#0x2b              ;547
00102a  d103              BNE      |L1.4148|
00102c  b221              SXTH     r1,r4                 ;549
00102e  2096              MOVS     r0,#0x96              ;549
001030  f7fffffe          BL       lc640_write_int
                  |L1.4148|
001034  2d2c              CMP      r5,#0x2c              ;551
001036  d103              BNE      |L1.4160|
001038  b221              SXTH     r1,r4                 ;553
00103a  207e              MOVS     r0,#0x7e              ;553
00103c  f7fffffe          BL       lc640_write_int
                  |L1.4160|
001040  2d2d              CMP      r5,#0x2d              ;555
001042  d103              BNE      |L1.4172|
001044  b221              SXTH     r1,r4                 ;557
001046  20c6              MOVS     r0,#0xc6              ;557
001048  f7fffffe          BL       lc640_write_int
                  |L1.4172|
00104c  2d2e              CMP      r5,#0x2e              ;559
00104e  d103              BNE      |L1.4184|
001050  b221              SXTH     r1,r4                 ;561
001052  20cc              MOVS     r0,#0xcc              ;561
001054  f7fffffe          BL       lc640_write_int
                  |L1.4184|
001058  2d2f              CMP      r5,#0x2f              ;563
00105a  d103              BNE      |L1.4196|
00105c  b221              SXTH     r1,r4                 ;565
00105e  20ce              MOVS     r0,#0xce              ;565
001060  f7fffffe          BL       lc640_write_int
                  |L1.4196|
001064  2d30              CMP      r5,#0x30              ;567
001066  d104              BNE      |L1.4210|
001068  b221              SXTH     r1,r4                 ;569
00106a  f44f708b          MOV      r0,#0x116             ;569
00106e  f7fffffe          BL       lc640_write_int
                  |L1.4210|
001072  2d31              CMP      r5,#0x31              ;571
001074  d104              BNE      |L1.4224|
001076  b221              SXTH     r1,r4                 ;573
001078  f44f708c          MOV      r0,#0x118             ;573
00107c  f7fffffe          BL       lc640_write_int
                  |L1.4224|
001080  2d32              CMP      r5,#0x32              ;575
001082  d104              BNE      |L1.4238|
001084  b221              SXTH     r1,r4                 ;577
001086  f44f708d          MOV      r0,#0x11a             ;577
00108a  f7fffffe          BL       lc640_write_int
                  |L1.4238|
00108e  2d33              CMP      r5,#0x33              ;579
001090  d104              BNE      |L1.4252|
001092  b221              SXTH     r1,r4                 ;581
001094  f44f7095          MOV      r0,#0x12a             ;581
001098  f7fffffe          BL       lc640_write_int
                  |L1.4252|
00109c  2d34              CMP      r5,#0x34              ;583
00109e  d104              BNE      |L1.4266|
0010a0  b221              SXTH     r1,r4                 ;585
0010a2  f44f7096          MOV      r0,#0x12c             ;585
0010a6  f7fffffe          BL       lc640_write_int
                  |L1.4266|
0010aa  2d35              CMP      r5,#0x35              ;587
0010ac  d104              BNE      |L1.4280|
0010ae  b221              SXTH     r1,r4                 ;589
0010b0  f44f7097          MOV      r0,#0x12e             ;589
0010b4  f7fffffe          BL       lc640_write_int
                  |L1.4280|
0010b8  f8cd9000          STR      r9,[sp,#0]            ;636
0010bc  f8b80000          LDRH     r0,[r8,#0]            ;636  ; MODBUS_ADRESS
0010c0  2301              MOVS     r3,#1                 ;636
0010c2  462a              MOV      r2,r5                 ;636
0010c4  4631              MOV      r1,r6                 ;636
0010c6  b2c0              UXTB     r0,r0                 ;636
0010c8  f7fffffe          BL       modbus_hold_registers_transmit
                  |L1.4300|
0010cc  e706              B        |L1.3804|
                  |L1.4302|
0010ce  4b0e              LDR      r3,|L1.4360|
0010d0  f9b33000          LDRSH    r3,[r3,#0]            ;639  ; ICA_MODBUS_ADDRESS
0010d4  4298              CMP      r0,r3                 ;639
0010d6  d1f9              BNE      |L1.4300|
0010d8  78c8              LDRB     r0,[r1,#3]            ;641  ; ica_plazma
0010da  f1000001          ADD      r0,r0,#1              ;641
0010de  70c8              STRB     r0,[r1,#3]            ;641
0010e0  2e04              CMP      r6,#4                 ;642
0010e2  d1f3              BNE      |L1.4300|
0010e4  7888              LDRB     r0,[r1,#2]            ;644  ; ica_plazma
0010e6  f1000001          ADD      r0,r0,#1              ;644
0010ea  7088              STRB     r0,[r1,#2]            ;644
0010ec  7890              LDRB     r0,[r2,#2]            ;645  ; modbus_an_buffer
0010ee  2802              CMP      r0,#2                 ;645
0010f0  d1ec              BNE      |L1.4300|
0010f2  7910              LDRB     r0,[r2,#4]            ;647  ; modbus_an_buffer
0010f4  78d1              LDRB     r1,[r2,#3]            ;647  ; modbus_an_buffer
0010f6  eb002001          ADD      r0,r0,r1,LSL #8       ;647
0010fa  4904              LDR      r1,|L1.4364|
0010fc  8008              STRH     r0,[r1,#0]            ;647
0010fe  e6ed              B        |L1.3804|
;;;656    /*
                          ENDP

                  |L1.4352|
                          DCD      TBAT
                  |L1.4356|
                          DCD      main_kb_cnt
                  |L1.4360|
                          DCD      ICA_MODBUS_ADDRESS
                  |L1.4364|
                          DCD      ica_your_current

                          AREA ||.bss||, DATA, NOINIT, ALIGN=0

                  modbus_buf
                          %        20

                          AREA ||area_number.4||, DATA, NOINIT, ALIGN=0

                          EXPORTAS ||area_number.4||, ||.bss||
                  modbus_rx_buffer
                          %        30
                  modbus_an_buffer
                          %        30
                  modbus_tx_buff
                          %        100

                          AREA ||.data||, DATA, ALIGN=1

                  modbus_crc16
000000  0000              DCB      0x00,0x00

                          AREA ||area_number.7||, DATA, ALIGN=0

                          EXPORTAS ||area_number.7||, ||.data||
                  modbus_timeout_cnt
000000  00                DCB      0x00

                          AREA ||area_number.8||, DATA, ALIGN=1

                          EXPORTAS ||area_number.8||, ||.data||
                  bMODBUS_TIMEOUT
000000  00                DCB      0x00
                  modbus_rx_buffer_ptr
000001  00                DCB      0x00
                  modbus_rx_counter
000002  0000              DCB      0x00,0x00
                  modbus_plazma
000004  0000              DCB      0x00,0x00
                  modbus_plazma1
000006  0000              DCB      0x00,0x00
                  modbus_plazma2
000008  0000              DCB      0x00,0x00
                  modbus_plazma3
00000a  0000              DCB      0x00,0x00

                          AREA ||area_number.9||, DATA, ALIGN=1

                          EXPORTAS ||area_number.9||, ||.data||
                  modbus_rx_arg0
000000  0000              DCB      0x00,0x00

                          AREA ||area_number.10||, DATA, ALIGN=1

                          EXPORTAS ||area_number.10||, ||.data||
                  modbus_rx_arg1
000000  0000              DCB      0x00,0x00

                          AREA ||area_number.11||, DATA, ALIGN=1

                          EXPORTAS ||area_number.11||, ||.data||
                  modbus_rx_arg2
000000  0000              DCB      0x00,0x00

                          AREA ||area_number.12||, DATA, ALIGN=1

                          EXPORTAS ||area_number.12||, ||.data||
                  modbus_rx_arg3
000000  0000              DCB      0x00,0x00
